(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"163f":function(e,t,a){},"265c":function(e,t,a){"use strict";a("8c30")},3863:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 1024 1024",width:e.size,height:e.size}},[a("path",{attrs:{fill:e.color,d:"M510.687 147.375c-59.743 0-107.353 23.892-139.25 62.438-28.45 34.381-44.181 79.901-49.75 130-1.312 2.271-2.085 4.994-2.085 7.899 0 1.527 0.214 3.003 0.613 4.402-0.031-0.071-0.024-0.030-0.028 0.012-11.117 12.446-17.188 29.707-17.188 48.938 0 23.166 10.003 42.515 26.25 54.25 13.986 53.199 42.283 100.998 79.5 133.312-1.162 33.441-10.747 56.671-26.063 74.5-16.32 18.999-39.792 32.465-67.375 42.938-30.092 11.403-67.308 29.141-99.875 54.688s-60.952 59.404-69.812 102.75c-0.211 0.976-0.333 2.097-0.333 3.247 0 8.844 7.17 16.014 16.014 16.014 7.715 0 14.156-5.456 15.675-12.72 6.837-33.462 29.357-61.475 58.206-84.104s63.576-39.356 91.5-49.938c30.402-11.543 59.049-27.247 80.313-52 16.447-19.146 27.716-43.807 32.062-73.938 21.946 12.25 45.858 19.938 71.625 19.938 30.748 0 59.073-10.322 84.188-27.313 3.477 33.426 14.894 60.676 32.625 81.313 21.268 24.753 49.894 40.457 80.312 52 27.909 10.581 62.647 27.307 91.5 49.938s51.368 50.644 58.188 84c1.537 7.368 7.978 12.823 15.693 12.823 8.844 0 16.014-7.17 16.014-16.014 0-1.15-0.121-2.271-0.351-3.352-8.842-43.243-37.223-77.099-69.794-102.645s-69.8-43.285-99.875-54.688c-27.598-10.473-51.051-23.939-67.375-42.938s-26.5-43.667-26.5-80.812c0.002-0.082 0.002-0.178 0.002-0.275 0-1.412-0.183-2.782-0.527-4.086 31.017-31.404 54.404-74.458 66.963-121.326 17.937-11.017 29.25-31.211 29.25-55.562 0-20.347-7.717-37.757-20.25-50.25-4.318-54.827-20.492-104.846-51.437-141.812-31.889-38.093-79.262-61.625-138.625-61.625zM510.687 179.375c51.197 0 87.808 18.825 114.063 50.187 17.716 21.162 30.037 48.863 37.5 80.313-30.984 2.865-53.466-6.867-74.062-31.188-2.953-3.456-7.316-5.633-12.188-5.633-0.176 0-0.351 0.003-0.525 0.008-5.461 0.161-10.236 3.061-12.999 7.373-31.894 50.755-84.994 63.862-133.101 64.439-36.026 0.431-61.518-5.45-75.062-9 5.795-42.099 19.622-78.947 41.75-105.687 26.28-31.758 63.104-50.812 114.625-50.812zM578.625 310c24.671 22.015 54.412 34.951 89.125 31.875 0.618 5.283 1.648 10.309 2 15.75 0.334 5.068 2.98 9.455 6.884 12.153 5.337 3.651 12.366 15.811 12.366 31.285 0 19.011-10.397 31.355-15.375 32.625-5.663 1.502-10.028 5.888-11.475 11.451-21.879 85.925-83.742 152.861-151.462 152.861-67.971 0-130.076-67.453-151.687-153.687-1.278-5.041-4.822-9.057-9.456-10.961-5.233-2.077-14.544-14.505-14.544-32.289 0-14.134 5.797-25.642 10.938-30.062 1.154-1.026 2.147-2.199 2.959-3.495 16.503 4.11 43.178 9.822 80.852 9.37 49.615-0.595 109.038-16.222 148.875-66.875z"}})])},s=[],i=(a("a9e3"),{name:"TeamGroup",props:{size:{type:Number,default:32},color:{type:String,default:"#000"}}}),r=i,o=a("2877"),l=Object(o["a"])(r,n,s,!1,null,"a04475b2",null);t["a"]=l.exports},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e923","./kn.js":"3e923","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db292","./nl-be.js":"db292","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=i,e.exports=s,s.id="4678"},5337:function(e,t,a){"use strict";a.r(t);a("e260"),a("d3b7"),a("e6cf"),a("3ca3"),a("ddb0"),a("99af");var n=a("81c5"),s=(a("159b"),a("2ef0")),i=a.n(s),r=a("0091"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-scroll-area",{staticClass:"full-height full-width relative-position"},[a("div",{staticClass:"q-pa-lg "},[a("div",{staticClass:"row q-mb-md"},[e.createMode?e._e():a("div",{directives:[{name:"t",rawName:"v-t",value:"COREWEBCLIENT.HEADING_COMMON_SETTINGS",expression:"'COREWEBCLIENT.HEADING_COMMON_SETTINGS'"}],staticClass:"col text-h5"}),e.createMode?a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.HEADING_CREATE_USER",expression:"'ADMINPANELWEBCLIENT.HEADING_CREATE_USER'"}],staticClass:"col text-h5"}):e._e()]),a("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[a("q-card-section",[a(e.mainDataComponent,{ref:"mainDataComponent",tag:"component",attrs:{currentTenantId:e.currentTenantId,user:e.user,createMode:e.createMode},on:{save:e.handleSave}}),e.userCreatedAtString?a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.LABEL_USER_CREATED",expression:"'ADMINPANELWEBCLIENT.LABEL_USER_CREATED'"}],staticClass:"col-2"}),a("div",{staticClass:"col-5 text-weight-medium"},[a("span",[e._v(e._s(e.userCreatedAtString))])])]):e._e(),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.LABEL_USER_LAST_LOGIN",expression:"'ADMINPANELWEBCLIENT.LABEL_USER_LAST_LOGIN'"}],staticClass:"col-2"}),a("div",{staticClass:"col-5 text-weight-medium"},[e.userLastLoginAtString?a("span",[e._v(e._s(e.userLastLoginAtString))]):a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.LABEL_USER_NEVER_LOGIN",expression:"'ADMINPANELWEBCLIENT.LABEL_USER_NEVER_LOGIN'"}],staticClass:"col-5 text-weight-medium"})])]),e.allowMakeTenant?a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"col-5"},[a("q-checkbox",{attrs:{dense:"",label:e.$t("ADMINPANELWEBCLIENT.LABEL_USER_IS_TENANT_ADMIN")},model:{value:e.isTenantAdmin,callback:function(t){e.isTenantAdmin=t},expression:"isTenantAdmin"}})],1)]):e._e(),e.createMode?e._e():a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"col-5"},[a("q-checkbox",{attrs:{dense:"",label:e.$t("ADMINPANELWEBCLIENT.LABEL_LOGGING_SEPARATE_LOG_FOR_USER")},model:{value:e.writeSeparateLog,callback:function(t){e.writeSeparateLog=t},expression:"writeSeparateLog"}})],1)]),e._l(e.otherDataComponents,(function(t){return a(t,{key:t.name,ref:"otherDataComponents",refInFor:!0,tag:"component",attrs:{currentTenantId:e.currentTenantId,user:e.user,createMode:e.createMode},on:{save:e.handleSave}})})),!e.createMode&&e.allTenantGroups.length>0&&e.isUserSuperAdmin?a("div",{staticClass:"row q-mt-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.LABEL_USER_GROUPS",expression:"'ADMINPANELWEBCLIENT.LABEL_USER_GROUPS'"}],staticClass:"col-2 q-mt-sm"}),a("div",{staticClass:"col-10"},[a("q-select",{attrs:{dense:"",outlined:"","bg-color":"white","use-input":"","use-chips":"",multiple:"",options:e.groupOptions},on:{filter:e.getGroupOptions},scopedSlots:e._u([{key:"selected",fn:function(){return[e.selectedGroupOptions?a("span",{staticClass:"groups-container"},e._l(e.selectedGroupOptions,(function(t){return a("q-chip",{key:t.value,attrs:{flat:"",removable:""},on:{remove:function(a){return e.removeFromSelectedGroups(t.value)}}},[a("div",{staticClass:"ellipsis"},[e._v("\n                      "+e._s(t.label)+"\n                    ")])])})),1):e._e()]},proxy:!0},{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.LABEL_GROUPS_NO_OPTIONS",expression:"'ADMINPANELWEBCLIENT.LABEL_GROUPS_NO_OPTIONS'"}],staticClass:"text-grey"})],1)]},proxy:!0},{key:"option",fn:function(t){return[a("q-item",e._g(e._b({directives:[{name:"close-popup",rawName:"v-close-popup"}]},"q-item",t.itemProps,!1),t.itemEvents),[a("q-item-section",{staticClass:"non-selectable"},[a("q-item-label",[e._v("\n                      "+e._s(t.opt.label)+"\n                    ")])],1)],1)]}}],null,!1,2906905766),model:{value:e.selectedGroupOptions,callback:function(t){e.selectedGroupOptions=t},expression:"selectedGroupOptions"}})],1)]):e._e()],2)],1),a("div",{staticClass:"q-pt-md text-right"},[e.createMode?e._e():a("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"negative",label:e.$t("ADMINPANELWEBCLIENT.ACTION_DELETE_USER")},on:{click:e.deleteUser}}),e.createMode?e._e():a("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.handleSave}}),e.createMode?a("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_CREATE")},on:{click:e.handleSave}}):e._e(),e.createMode?a("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"secondary",label:e.$t("COREWEBCLIENT.ACTION_CANCEL")},on:{click:e.cancel}}):e._e()],1)],1),a("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.loading||e.deleting||e.saving}},[a("q-linear-progress",{attrs:{query:""}})],1)],1)},l=[],c=a("c973"),u=a.n(c),d=(a("96cf"),a("4de4"),a("d81d"),a("b0c0"),a("fb6a"),a("4e82"),a("ac1f"),a("00b4"),a("4245")),p=a("21ac"),h=a("6bfe"),m=a("e539"),E=a("11cb"),f=a("83d6"),v=a("c1df"),N=a.n(v),g=a("3de8"),T={},C={name:"EditUser",props:{deletingIds:Array,createMode:Boolean},data:function(){return{mainDataComponent:null,otherDataComponents:[],user:null,publicId:"",isTenantAdmin:!1,writeSeparateLog:!1,selectedGroupOptions:[],groupOptions:[],loading:!1,saving:!1}},computed:{userCreatedAtString:function(){var e,t,a,n;return null!==(e=this.user)&&void 0!==e&&null!==(t=e.completeData)&&void 0!==t&&t.CreatedAt?N()(null===(a=this.user)||void 0===a||null===(n=a.completeData)||void 0===n?void 0:n.CreatedAt).format("L HH:mm"):null},userLastLoginAtString:function(){var e,t,a,n;return null!==(e=this.user)&&void 0!==e&&null!==(t=e.completeData)&&void 0!==t&&t.LastLogin?N()(null===(a=this.user)||void 0===a||null===(n=a.completeData)||void 0===n?void 0:n.LastLogin).format("L HH:mm"):null},currentTenantId:function(){return this.$store.getters["tenants/getCurrentTenantId"]},allTenantGroups:function(){var e=this.$store.getters["groups/getGroups"],t=h["a"].pArray(e[this.currentTenantId]);return t.filter((function(e){return!e.isTeam}))},deleting:function(){var e;return-1!==this.deletingIds.indexOf(null===(e=this.user)||void 0===e?void 0:e.id)},isUserSuperAdmin:function(){var e=this.$store.getters["user/isUserSuperAdmin"];return e},allowMakeTenant:function(){var e=this.$store.getters["user/isUserSuperAdmin"];return e&&(f["a"].getEnableMultiTenant()||!0)}},watch:{$route:function(e,t){this.parseRoute(),this.getUserMainDataComponent()},"user.groups":function(){i.a.isArray(this.user.groups)&&(this.selectedGroupOptions=this.user.groups.map((function(e){return{label:e.name,value:e.id}})))}},beforeRouteLeave:function(e,t,a){this.doBeforeRouteLeave(e,t,a)},beforeRouteUpdate:function(e,t,a){this.doBeforeRouteLeave(e,t,a)},mounted:function(){T=n["a"].getUserRoles(),this.getUserMainDataComponent(),this.getUserOtherDataComponents(),this.loading=!1,this.saving=!1,this.parseRoute()},methods:{getUserMainDataComponent:function(){var e=this;return u()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].getUserMainDataComponent();case 2:e.mainDataComponent=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getUserOtherDataComponents:function(){var e=this;return u()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].getUserOtherDataComponents();case 2:e.otherDataComponents=t.sent;case 3:case"end":return t.stop()}}),t)})))()},parseRoute:function(){if(this.createMode){var e=new g["a"](this.currentTenantId,{});this.fillUp(e)}else{var t,a,n,s=h["a"].pPositiveInt(null===(t=this.$route)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id);(null===(n=this.user)||void 0===n?void 0:n.id)!==s&&(this.user={id:s},this.populate())}},clear:function(){this.publicId="",this.isTenantAdmin=!1,this.writeSeparateLog=!1},fillUp:function(e){this.user=e,this.publicId=e.publicId,this.isTenantAdmin=e.role===T.TenantAdmin,this.writeSeparateLog=e.writeSeparateLog,this.selectedGroupOptions=e.groups.map((function(e){return{label:e.name,value:e.id}}))},populate:function(){var e=this;this.clear(),this.loading=!0,E["a"].getUser(this.currentTenantId,this.user.id).then((function(t){var a=t.user,n=t.userId;n===e.user.id&&(e.loading=!1,a?e.fillUp(a):e.$emit("no-user-found"))}))},getGroupOptions:function(e,t,a){var n=this,s=e.toLowerCase(),i=this.selectedGroupOptions.map((function(e){return e.value})),r=this.allTenantGroups.filter((function(e){return-1===i.indexOf(e.id)}));""!==s&&(r=r.filter((function(e){return-1!==e.name.toLowerCase().indexOf(s)}))),t((function(){n.groupOptions=r.map((function(e){return{label:e.name,value:e.id}})).slice(0,100)}))},removeFromSelectedGroups:function(e){this.selectedGroupOptions=this.selectedGroupOptions.filter((function(t){return t.value!==e}))},hasChanges:function(){var e,t,a,n,s,r;if(this.loading)return!1;var o=!!i.a.isFunction(null===(e=this.$refs)||void 0===e||null===(t=e.mainDataComponent)||void 0===t?void 0:t.hasChanges)&&this.$refs.mainDataComponent.hasChanges(),l=!!i.a.isFunction(null===(a=this.$refs)||void 0===a||null===(n=a.otherDataComponents)||void 0===n?void 0:n.some)&&this.$refs.otherDataComponents.some((function(e){return!!i.a.isFunction(e.hasChanges)&&e.hasChanges()}));return o||l||this.isTenantAdmin!==((null===(s=this.user)||void 0===s?void 0:s.role)===T.TenantAdmin)||this.writeSeparateLog!==(null===(r=this.user)||void 0===r?void 0:r.writeSeparateLog)||this.hasGroupChanges()},hasGroupChanges:function(){var e=this.selectedGroupOptions.map((function(e){return e.value})).sort(),t=(this.user.groups||[]).map((function(e){return e.id})).sort();return!i.a.isEqual(e,t)},revertChanges:function(){var e,t,a,n,s,r;i.a.isFunction(null===(e=this.$refs)||void 0===e||null===(t=e.mainDataComponent)||void 0===t?void 0:t.revertChanges)&&this.$refs.mainDataComponent.revertChanges(),i.a.isFunction(null===(a=this.$refs)||void 0===a||null===(n=a.otherDataComponents)||void 0===n?void 0:n.forEach)&&this.$refs.otherDataComponents.forEach((function(e){i.a.isFunction(e.revertChanges)&&e.revertChanges()})),this.isTenantAdmin=(null===(s=this.user)||void 0===s?void 0:s.role)===T.TenantAdmin,this.writeSeparateLog=null===(r=this.user)||void 0===r?void 0:r.writeSeparateLog},isDataValid:function(){var e,t,a,n,s=!i.a.isFunction(null===(e=this.$refs)||void 0===e||null===(t=e.mainDataComponent)||void 0===t?void 0:t.isDataValid)||this.$refs.mainDataComponent.isDataValid(),r=!i.a.isFunction(null===(a=this.$refs)||void 0===a||null===(n=a.otherDataComponents)||void 0===n?void 0:n.every)||this.$refs.otherDataComponents.every((function(e){return!i.a.isFunction(e.isDataValid)||e.isDataValid()}));return s&&r},isUserEmailValid:function(){var e=this.$refs.mainDataComponent.getSaveParameters(),t=e.PublicId,a=t.slice(0,t.lastIndexOf("@")),n=/[@\s]/;return!n.test(a)&&a.length},handleSave:function(){this.isUserEmailValid()?this.save():p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_INVALID_EMAIL_USERNAME_PART"))},save:function(){var e=this;if(!this.saving&&this.isDataValid()){var t,a,n,s;this.saving=!0;var r=i.a.isFunction(null===(t=this.$refs)||void 0===t||null===(a=t.mainDataComponent)||void 0===a?void 0:a.getSaveParameters)?this.$refs.mainDataComponent.getSaveParameters():{},o=this.$store.getters["user/isUserSuperAdmin"],l=i.a.extend({UserId:this.user.id,TenantId:this.user.tenantId,Role:o?this.isTenantAdmin?T.TenantAdmin:T.NormalUser:-1,WriteSeparateLog:this.writeSeparateLog,Forced:!0,GroupIds:o?this.selectedGroupOptions.map((function(e){return e.value})):null},r);i.a.isFunction(null===(n=this.$refs)||void 0===n||null===(s=n.otherDataComponents)||void 0===s?void 0:s.forEach)&&this.$refs.otherDataComponents.forEach((function(e){var t=i.a.isFunction(e.getSaveParameters)?e.getSaveParameters():{};l=i.a.extend(l,t)})),m["a"].sendRequest({moduleName:"Core",methodName:this.createMode?"CreateUser":"UpdateUser",parameters:l}).then((function(t){e.saving=!1,e.createMode?e.handleCreateResult(t,l):e.handleUpdateResult(t,l)}),(function(t){e.saving=!1;var a=e.createMode?"ERROR_CREATE_ENTITY_USER":"ERROR_UPDATE_ENTITY_USER";p["a"].showError(d["a"].getTextFromResponse(t,e.$t("ADMINPANELWEBCLIENT."+a)))}))}},handleCreateResult:function(e,t){i.a.isSafeInteger(e)?(p["a"].showReport(this.$t("ADMINPANELWEBCLIENT.REPORT_CREATE_ENTITY_USER")),this.user.update(t),this.$emit("user-created",e)):p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_CREATE_ENTITY_USER"))},handleUpdateResult:function(e,t){var a=this;!0===e?(E["a"].getUser(t.TenantId,t.UserId).then((function(e){var n=e.user;n.update(t,a.allTenantGroups),a.populate()})),p["a"].showReport(this.$t("ADMINPANELWEBCLIENT.REPORT_UPDATE_ENTITY_USER"))):p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_UPDATE_ENTITY_USER"))},cancel:function(){this.revertChanges(),this.$emit("cancel-create")},deleteUser:function(){this.$emit("delete-user",this.user.id)}}},A=C,I=(a("265c"),a("2877")),b=a("4983"),_=a("f09f"),L=a("a370"),R=a("8f8e"),D=a("ddd8"),O=a("b047"),S=a("66e5"),M=a("4074"),j=a("0170"),P=a("9c40"),w=a("74f7"),U=a("6b1d"),B=a("7f67"),G=a("eebe"),q=a.n(G),$=Object(I["a"])(A,o,l,!1,null,"5f0a2a1e",null),x=$.exports;q()($,"components",{QScrollArea:b["a"],QCard:_["a"],QCardSection:L["a"],QCheckbox:R["a"],QSelect:D["a"],QChip:O["a"],QItem:S["a"],QItemSection:M["a"],QItemLabel:j["a"],QBtn:P["a"],QInnerLoading:w["a"],QLinearProgress:U["a"]}),q()($,"directives",{ClosePopup:B["a"]});var W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},y=[],k={name:"Empty"},F=k,z=Object(I["a"])(F,W,y,!1,null,"738f6bae",null),Q=z.exports,V={getAllUserRoutes:function(){var e=this,t=this.getUserRoutes(),a=this.getRouteChildren("User"),n=this.getUserFiltersRoutes(a);return n.forEach((function(n){var s=e.getUserRoutes("".concat(n.path,"/"));t=t.concat(s),a.forEach((function(e){t.push({path:"".concat(n.path,"/").concat(e.path),component:e.component})}))})),t=t.concat(a,n),t},getRouteChildren:function(e){var t=r["a"].getAdminEntityTabs("getAdmin".concat(e,"Tabs")),a=[];return t.forEach((function(e){i.a.isArray(e.tabRouteChildren)&&(a=a.concat(e.tabRouteChildren))})),a},getUserRoutes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[{path:e+"create",component:x},{path:e+"id/:id",component:x},{path:e+"search/:search",component:Q},{path:e+"search/:search/id/:id",component:x},{path:e+"page/:page",component:Q},{path:e+"page/:page/id/:id",component:x},{path:e+"search/:search/page/:page",component:Q},{path:e+"search/:search/page/:page/id/:id",component:x}];return""===e&&t.push({path:"create",component:x}),t},getUserFiltersRoutes:function(){var e=r["a"].getFiltersForUsers(),t=[];return e.forEach((function(e){t.push({path:e.filterRoute,component:Q})})),e.length>1&&e.forEach((function(a){e.forEach((function(e){if(a.filterRoute!==e.filterRoute){var n="".concat(a.filterRoute,"/").concat(e.filterRoute);t.push({path:n,component:Q})}}))})),t}},Y=a("4360"),H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-scroll-area",{staticClass:"full-height full-width relative-position"},[a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"row q-mb-md"},[e.createMode?e._e():a("div",{directives:[{name:"t",rawName:"v-t",value:"COREWEBCLIENT.HEADING_COMMON_SETTINGS",expression:"'COREWEBCLIENT.HEADING_COMMON_SETTINGS'"}],staticClass:"col text-h5"}),e.createMode?a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.HEADING_CREATE_TENANT",expression:"'ADMINPANELWEBCLIENT.HEADING_CREATE_TENANT'"}],staticClass:"col text-h5"}):e._e()]),a("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.LABEL_PRODUCT_NAME",expression:"'ADMINPANELWEBCLIENT.LABEL_PRODUCT_NAME'"}],staticClass:"col-2 q-mt-sm"}),e.createMode?a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.tenantName,callback:function(t){e.tenantName=t},expression:"tenantName"}})],1):e._e(),e.createMode?e._e():a("div",{staticClass:"col-5 q-mt-sm"},[e._v(e._s(e.tenantName))])]),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.LABEL_DESCRIPTION",expression:"'ADMINPANELWEBCLIENT.LABEL_DESCRIPTION'"}],staticClass:"col-2 q-mt-sm"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)]),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.LABEL_WEB_DOMAIN",expression:"'ADMINPANELWEBCLIENT.LABEL_WEB_DOMAIN'"}],staticClass:"col-2 q-mt-sm"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.webDomain,callback:function(t){e.webDomain=t},expression:"webDomain"}})],1)]),a("div",{staticClass:"row"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"COREWEBCLIENT.LABEL_SITENAME",expression:"'COREWEBCLIENT.LABEL_SITENAME'"}],staticClass:"col-2 q-mt-sm"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.tenantSiteName,callback:function(t){e.tenantSiteName=t},expression:"tenantSiteName"}})],1)]),a(e.otherDataComponents,{tag:"component",on:{updateParent:e.getTenantData}})],1)],1),a("div",{staticClass:"q-py-md text-right"},[!e.createMode&&e.isUserSuperAdmin?a("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"negative",label:e.$t("ADMINPANELWEBCLIENT.ACTION_DELETE_TENANT")},on:{click:e.deleteTenant}}):e._e(),e.createMode?e._e():a("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.save}}),e.createMode?a("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_CREATE")},on:{click:e.save}}):e._e(),e.createMode?a("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"secondary",label:e.$t("COREWEBCLIENT.ACTION_CANCEL")},on:{click:e.cancel}}):e._e()],1)],1),a("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.loading||e.deleting||e.saving}},[a("q-linear-progress",{attrs:{query:""}})],1)],1)},J=[],K=(a("a4d3"),a("e01a"),a("1e92")),X={name:"EditTenant",props:{deletingIds:Array},data:function(){return{tenant:null,tenantId:0,tenantName:"",tenantSiteName:"",description:"",webDomain:"",saving:!1,loading:!1,otherDataComponents:null,enableBusinessTenant:!1,enableGroupWare:!1}},computed:{currentTenantId:function(){return this.$store.getters["tenants/getCurrentTenantId"]},allTenants:function(){return this.$store.getters["tenants/getTenants"]},createMode:function(){var e;return 0===(null===(e=this.tenant)||void 0===e?void 0:e.id)},deleting:function(){var e;return-1!==this.deletingIds.indexOf(null===(e=this.tenant)||void 0===e?void 0:e.id)},isUserSuperAdmin:function(){return this.$store.getters["user/isUserSuperAdmin"]}},beforeRouteLeave:function(e,t,a){this.doBeforeRouteLeave(e,t,a)},beforeRouteUpdate:function(e,t,a){this.doBeforeRouteLeave(e,t,a)},mounted:function(){var e=this;return u()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!1,e.saving=!1,e.parseRoute(),t.next=5,r["a"].getTenantOtherDataComponents();case 5:e.otherDataComponents=t.sent;case 6:case"end":return t.stop()}}),t)})))()},watch:{$route:function(){this.parseRoute()},allTenants:function(){this.populate()}},methods:{getTenantData:function(e){this.enableBusinessTenant=e.enableBusinessTenant,this.enableGroupWare=e.enableGroupWare},parseRoute:function(){if("/tenants/create"===this.$route.path){var e=new K["a"];this.fillUp(e)}else{var t,a,n,s=h["a"].pPositiveInt(null===(t=this.$route)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id);(null===(n=this.tenant)||void 0===n?void 0:n.id)!==s&&(this.tenant={id:s},this.populate())}},populate:function(){this.$store.dispatch("tenants/completeTenantData",this.tenant.id);var e=this.$store.getters["tenants/getTenant"](this.tenant.id);e&&(this.fillUp(e),this.loading=void 0===e.completeData.Description)},fillUp:function(e){var t,a;this.tenant=e,this.tenantId=e.id,this.tenantName=e.name,this.tenantSiteName=e.siteName,this.description=null===(t=e.completeData)||void 0===t?void 0:t.Description,this.webDomain=null===(a=e.completeData)||void 0===a?void 0:a.WebDomain},hasChanges:function(){var e,t,a,n,s,i;return!this.loading&&((null===(e=this.tenant)||void 0===e?void 0:e.name)!==this.tenantName||(null===(t=this.tenant)||void 0===t?void 0:t.siteName)!==this.tenantSiteName||(null===(a=this.tenant)||void 0===a||null===(n=a.completeData)||void 0===n?void 0:n.Description)!==this.description||(null===(s=this.tenant)||void 0===s||null===(i=s.completeData)||void 0===i?void 0:i.WebDomain)!==this.webDomain)},revertChanges:function(){this.fillUp(this.tenant)},cancel:function(){this.revertChanges(),this.$emit("cancel-create")},isValid:function(){return""===this.tenantName?(p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_TENANT_NAME_EMPTY")),!1):!/[\\/:*?"<>|]/gi.test(this.tenantName)||(p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_TENANT_NAME_INVALID")),!1)},save:function(){var e=this;if(!this.saving&&this.isValid()){this.saving=!0;var t={Name:this.tenantName,Description:this.description,WebDomain:this.webDomain,SiteName:this.tenantSiteName,"CoreUserGroupsLimits::IsBusiness":this.enableBusinessTenant,"CoreUserGroupsLimits::EnableGroupware":this.enableGroupWare},a=this.createMode;a||(t.TenantId=this.currentTenantId),m["a"].sendRequest({moduleName:"Core",methodName:a?"CreateTenant":"UpdateTenant",parameters:t}).then((function(n){a?e.handleCreateResult(n,t):e.handleUpdateResult(n,t),e.saving=!1}),(function(t){e.saving=!1;var n=a?"ERROR_CREATE_ENTITY_TENANT":"ERROR_UPDATE_ENTITY_TENANT";p["a"].showError(d["a"].getTextFromResponse(t,e.$t("ADMINPANELWEBCLIENT."+n)))}))}},handleCreateResult:function(e){i.a.isSafeInteger(e)?(p["a"].showReport(this.$t("ADMINPANELWEBCLIENT.REPORT_CREATE_ENTITY_TENANT")),this.loading=!1,this.revertChanges(),this.$emit("tenant-created",e)):p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_CREATE_ENTITY_TENANT"))},handleUpdateResult:function(e,t){!0===e?(this.$store.commit("tenants/updateTenant",{id:this.tenantId,data:t}),p["a"].showReport(this.$t("ADMINPANELWEBCLIENT.REPORT_UPDATE_ENTITY_TENANT"))):p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_UPDATE_ENTITY_TENANT"))},deleteTenant:function(){this.$emit("delete-tenant",this.tenant.id)}}},Z=X,ee=a("27f9"),te=Object(I["a"])(Z,H,J,!1,null,"9cd523a8",null),ae=te.exports;q()(te,"components",{QScrollArea:b["a"],QCard:_["a"],QCardSection:L["a"],QInput:ee["a"],QBtn:P["a"],QInnerLoading:w["a"],QLinearProgress:U["a"]});var ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-scroll-area",{staticClass:"full-height full-width relative-position"},[a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"row q-mb-md"},[e.createMode?e._e():a("div",{directives:[{name:"t",rawName:"v-t",value:"COREWEBCLIENT.HEADING_COMMON_SETTINGS",expression:"'COREWEBCLIENT.HEADING_COMMON_SETTINGS'"}],staticClass:"col text-h5"}),e.createMode?a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.HEADING_CREATE_GROUP",expression:"'ADMINPANELWEBCLIENT.HEADING_CREATE_GROUP'"}],staticClass:"col text-h5"}):e._e()]),a("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[a("q-card-section",[e.isTeamGroup?a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-7 q-mt-sm"},[e.enableMultiTenant?a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.INFO_TEAM_GROUP_IN_TENANT",expression:"'ADMINPANELWEBCLIENT.INFO_TEAM_GROUP_IN_TENANT'"}],attrs:{caption:""}}):a("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.INFO_TEAM_GROUP_IN_SYSTEM",expression:"'ADMINPANELWEBCLIENT.INFO_TEAM_GROUP_IN_SYSTEM'"}],attrs:{caption:""}})],1)]):e._e(),a("div",{staticClass:"row q-mb-md"},[a("div",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.LABEL_GROUP_NAME",expression:"'ADMINPANELWEBCLIENT.LABEL_GROUP_NAME'"}],staticClass:"col-2 q-mt-sm"}),a("div",{staticClass:"col-5"},[a("q-input",{attrs:{outlined:"",dense:"","bg-color":"white",disable:e.isTeamGroup},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}})],1)]),e.createMode?e._e():a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-2 q-mt-sm"}),a("div",{staticClass:"col-5"},[a("a",{directives:[{name:"t",rawName:"v-t",value:"ADMINPANELWEBCLIENT.ACTION_SHOW_GROUP_USERS",expression:"'ADMINPANELWEBCLIENT.ACTION_SHOW_GROUP_USERS'"}],attrs:{href:"javascript:void(0)"},on:{click:e.showGroupUsers}})])])])],1),a("div",{staticClass:"q-py-md text-right"},[e.createMode||e.isTeamGroup?e._e():a("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"negative",label:e.$t("ADMINPANELWEBCLIENT.ACTION_DELETE_GROUP")},on:{click:e.deleteGroup}}),e.createMode||e.isTeamGroup?e._e():a("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.save}}),e.createMode?a("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_CREATE")},on:{click:e.save}}):e._e(),e.createMode?a("q-btn",{staticClass:"q-px-sm q-ml-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"secondary",label:e.$t("COREWEBCLIENT.ACTION_CANCEL")},on:{click:e.cancel}}):e._e()],1)],1),a("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.loading||e.deleting||e.saving}},[a("q-linear-progress",{attrs:{query:""}})],1)],1)},se=[],ie=(a("498a"),a("e62e")),re={name:"EditGroup",props:{deletingIds:Array},data:function(){return{enableMultiTenant:f["a"].getEnableMultiTenant(),group:null,groupId:0,groupName:"",isTeamGroup:!1,saving:!1,loading:!1}},computed:{currentTenantId:function(){return this.$store.getters["tenants/getCurrentTenantId"]},allGroups:function(){return this.$store.getters["groups/getGroups"]},createMode:function(){var e;return 0===(null===(e=this.group)||void 0===e?void 0:e.id)},deleting:function(){var e;return-1!==this.deletingIds.indexOf(null===(e=this.group)||void 0===e?void 0:e.id)}},beforeRouteLeave:function(e,t,a){this.doBeforeRouteLeave(e,t,a)},beforeRouteUpdate:function(e,t,a){this.doBeforeRouteLeave(e,t,a)},mounted:function(){var e=this;return u()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!1,e.saving=!1,e.parseRoute();case 3:case"end":return t.stop()}}),t)})))()},watch:{$route:function(){this.parseRoute()},allGroups:function(){this.populate()}},methods:{parseRoute:function(){if("/groups/create"===this.$route.path){var e=new ie["a"]({TenantId:this.currentTenantId});this.fillUp(e)}else{var t,a,n,s=h["a"].pPositiveInt(null===(t=this.$route)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id);(null===(n=this.group)||void 0===n?void 0:n.id)!==s&&(this.group={id:s},this.populate())}},populate:function(){var e=this.$store.getters["groups/getGroup"](this.currentTenantId,this.group.id);e&&this.fillUp(e)},fillUp:function(e){this.group=e,this.groupId=e.id,this.groupName=e.name,this.isTeamGroup=e.isTeam},cancel:function(){this.revertChanges(),this.$emit("cancel-create")},hasChanges:function(){var e;return!this.loading&&(null===(e=this.group)||void 0===e?void 0:e.name)!==this.groupName},revertChanges:function(){var e;this.groupName=null===(e=this.group)||void 0===e?void 0:e.name},isValid:function(){return""!==i.a.trim(this.groupName)||(p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_GROUP_NAME_EMPTY")),!1)},getSaveParameters:function(){var e={Name:this.groupName,TenantId:this.group.tenantId};return this.createMode||(e.GroupId=this.group.id),e},save:function(){var e=this;if(!this.isTeamGroup&&!this.saving&&this.isValid()){this.saving=!0;var t=this.createMode,a=this.getSaveParameters();m["a"].sendRequest({moduleName:"Core",methodName:t?"CreateGroup":"UpdateGroup",parameters:a}).then((function(n){e.saving=!1,t?e.handleCreateResult(n,a):e.handleUpdateResult(n,a)}),(function(a){e.saving=!1;var n=t?"ERROR_CREATE_ENTITY_GROUP":"ERROR_UPDATE_ENTITY_GROUP";p["a"].showError(d["a"].getTextFromResponse(a,e.$t("ADMINPANELWEBCLIENT."+n)))}))}},handleCreateResult:function(e){i.a.isSafeInteger(e)?(p["a"].showReport(this.$t("ADMINPANELWEBCLIENT.REPORT_CREATE_ENTITY_GROUP")),this.loading=!1,this.revertChanges(),this.$emit("group-created",e)):p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_CREATE_ENTITY_GROUP"))},handleUpdateResult:function(e,t){!0===e?(this.$store.commit("groups/updateGroup",{tenantId:this.currentTenantId,id:this.groupId,data:t}),this.populate(),p["a"].showReport(this.$t("ADMINPANELWEBCLIENT.REPORT_UPDATE_ENTITY_GROUP"))):p["a"].showError(this.$t("ADMINPANELWEBCLIENT.ERROR_UPDATE_ENTITY_GROUP"))},deleteGroup:function(){this.$emit("delete-group",this.group.id)},showGroupUsers:function(){this.$router.push("/users/group/".concat(this.group.id))}}},oe=re,le=(a("d3cb"),Object(I["a"])(oe,ne,se,!1,null,"1578f13a",null)),ce=le.exports;q()(le,"components",{QScrollArea:b["a"],QCard:_["a"],QCardSection:L["a"],QItemLabel:j["a"],QInput:ee["a"],QBtn:P["a"],QInnerLoading:w["a"],QLinearProgress:U["a"]});var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.filterOptions.length>0?a("div",[a("q-select",{staticClass:"bg-white",attrs:{outlined:"",dense:"",options:e.filterOptions},scopedSlots:e._u([{key:"selected",fn:function(){return[a("div",{staticClass:"ellipsis",staticStyle:{"max-width":"250px"}},[e._v(e._s(e.currentFilter.label))])]},proxy:!0},{key:"option",fn:function(t){return[a("q-item",e._g(e._b({directives:[{name:"close-popup",rawName:"v-close-popup"}]},"q-item",t.itemProps,!1),t.itemEvents),[a("q-item-section",{staticClass:"non-selectable"},[a("q-item-label",[a("span",[e._v(e._s(t.opt.label))]),t.opt.isTeam?a("team-group-icon",{staticClass:"on-right vertical-bottom",attrs:{size:18}}):e._e()],1)],1)],1)]}}],null,!1,3018842066),model:{value:e.currentFilter,callback:function(t){e.currentFilter=t},expression:"currentFilter"}})],1):e._e()},de=[],pe=(a("7db0"),a("3863")),he={name:"GroupFilterForUsers",filterRoute:"group/:group",data:function(){return{allowGroups:f["a"].getAllowGroups(),filterOptions:[],filterValue:null,currentFilter:null}},components:{TeamGroupIcon:pe["a"]},computed:{currentTenantId:function(){return this.$store.getters["tenants/getCurrentTenantId"]},visible:function(){return this.filterOptions.length>0},allGroupLists:function(){return this.$store.getters["groups/getGroups"]},groups:function(){return h["a"].pArray(this.allGroupLists[this.currentTenantId])}},watch:{$route:function(e,t){this.fillUpFilterValue(),this.currentFilter=this.findCurrentFilter()},filterOptions:function(){this.fillUpFilterValue(),this.currentFilter=this.findCurrentFilter()},currentTenantId:function(){this.requestGroups()},currentFilter:function(e){this.selectFilter(e.value)},groups:function(){this.fillUpFilterOptions()}},mounted:function(){this.fillUpFilterOptions(),this.requestGroups()},methods:{requestGroups:function(){this.allowGroups&&this.$store.dispatch("groups/requestGroups",{tenantId:this.currentTenantId})},fillUpFilterOptions:function(){var e=this.groups.map((function(e){return{label:e.name,value:e.id,isTeam:e.isTeam}}));e.length>0&&(e.unshift({label:this.$t("ADMINPANELWEBCLIENT.LABEL_ALL_GROUPS"),value:-1,isTeam:!1}),e.push({label:this.$t("ADMINPANELWEBCLIENT.LABEL_NOT_IN_ANY_GROUP"),value:0,isTeam:!1})),this.filterOptions=e,this.currentFilter=this.findCurrentFilter()},findCurrentFilter:function(){var e=this;if(this.filterOptions.length){var t=this.filterOptions.find((function(t){return t.value===e.filterValue}));return t||this.filterOptions[0]}return""},fillUpFilterValue:function(){var e,t;this.filterValue=h["a"].pInt(null===(e=this.$route)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.group,-1),this.$emit("filter-filled-up",{GroupId:this.filterValue})},selectFilter:function(e){-1===e?this.$emit("filter-selected",{routeName:"group"}):this.$emit("filter-selected",{routeName:"group",routeValue:e})}}},me=he,Ee=Object(I["a"])(me,ue,de,!1,null,"99756f9e",null),fe=Ee.exports;q()(Ee,"components",{QSelect:D["a"],QItem:S["a"],QItemSection:M["a"],QItemLabel:j["a"]}),q()(Ee,"directives",{ClosePopup:B["a"]});t["default"]={moduleName:"AdminPanelWebclient",requiredModules:[],init:function(e){f["a"].init(e)},getPages:function(){var e=n["a"].getUserRoles(),t=[{pageName:"login",pagePath:"/",pageComponent:function(){return a.e(5).then(a.bind(null,"013f"))},pageUserRoles:[e.Anonymous]},{pageName:"system",pagePath:"/system",pageComponent:function(){return Promise.all([a.e(1),a.e(27)]).then(a.bind(null,"8fac"))},pageChildren:V.getRouteChildren("System"),pageUserRoles:[e.SuperAdmin],pageTitle:"ADMINPANELWEBCLIENT.HEADING_SYSTEM_SETTINGS_TABNAME"}];return f["a"].getEnableMultiTenant()&&t.push({pageName:"tenants",pagePath:"/tenants",pageComponent:function(){return Promise.all([a.e(1),a.e(28)]).then(a.bind(null,"5d6c"))},pageChildren:[{path:"id/:id",component:ae},{path:"create",component:ae},{path:"search/:search",component:Q},{path:"search/:search/id/:id",component:ae},{path:"page/:page",component:Q},{path:"page/:page/id/:id",component:ae},{path:"search/:search/page/:page",component:Q},{path:"search/:search/page/:page/id/:id",component:ae}].concat(V.getRouteChildren("Tenant")),pageUserRoles:[e.SuperAdmin,e.TenantAdmin],pageTitle:"ADMINPANELWEBCLIENT.HEADING_TENANTS_SETTINGS_TABNAME"}),f["a"].getAllowGroups()&&t.push({pageName:"groups",pagePath:"/groups",pageComponent:function(){return Promise.all([a.e(1),a.e(26)]).then(a.bind(null,"0293"))},pageChildren:[{path:"id/:id",component:ce},{path:"create",component:ce},{path:"search/:search",component:Q},{path:"search/:search/id/:id",component:ce},{path:"page/:page",component:Q},{path:"page/:page/id/:id",component:ce},{path:"search/:search/page/:page",component:Q},{path:"search/:search/page/:page/id/:id",component:ce}],pageUserRoles:[e.SuperAdmin],pageTitle:"ADMINPANELWEBCLIENT.HEADING_GROUPS_SETTINGS_TABNAME"}),t.push({pageName:"users",pagePath:"/users",pageComponent:function(){return Promise.all([a.e(1),a.e(6)]).then(a.bind(null,"051b"))},pageChildren:V.getAllUserRoutes(),pageUserRoles:[e.SuperAdmin,e.TenantAdmin],pageTitle:"ADMINPANELWEBCLIENT.HEADING_USERS_SETTINGS_TABNAME"}),t},getAdminSystemTabs:function(){return[{tabName:"admin-security",tabTitle:"ADMINPANELWEBCLIENT.LABEL_SECURITY_SETTINGS_TAB",tabRouteChildren:[{path:"admin-security",component:function(){return a.e(23).then(a.bind(null,"b6bf"))}}]},{tabName:"admin-db",tabTitle:"ADMINPANELWEBCLIENT.HEADING_DB_SETTINGS",tabRouteChildren:[{path:"admin-db",component:function(){return Promise.all([a.e(1),a.e(24)]).then(a.bind(null,"cb68"))}}]},{tabName:"about",tabTitle:"ADMINPANELWEBCLIENT.LABEL_ABOUT_SETTINGS_TAB",tabRouteChildren:[{path:"about",component:function(){return a.e(22).then(a.bind(null,"d95f"))}}]}]},getFiltersForUsers:function(){var e=Y["a"].getters["user/isUserSuperAdmin"];return e?[fe]:[]}}},"8c30":function(e,t,a){},d3cb:function(e,t,a){"use strict";a("163f")}}]);
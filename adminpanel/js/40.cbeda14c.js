(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{b1a5:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-scroll-area",{staticClass:"full-height full-width"},[s("div",{staticClass:"q-pa-lg "},[s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"S3FILESTORAGE.HEADING_SETTINGS_TAB",expression:"'S3FILESTORAGE.HEADING_SETTINGS_TAB'"}],staticClass:"col text-h5"})]),s("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[s("q-card-section",[s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"S3FILESTORAGE.LABEL_ACCESS_KEY",expression:"'S3FILESTORAGE.LABEL_ACCESS_KEY'"}],staticClass:"col-2 q-my-sm"}),s("div",{staticClass:"col-5"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.accessKey,callback:function(t){e.accessKey=t},expression:"accessKey"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"S3FILESTORAGE.LABEL_SECRET_KEY",expression:"'S3FILESTORAGE.LABEL_SECRET_KEY'"}],staticClass:"col-2 q-my-sm"}),s("div",{staticClass:"col-5"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.secretKey,callback:function(t){e.secretKey=t},expression:"secretKey"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"S3FILESTORAGE.LABEL_REGION",expression:"'S3FILESTORAGE.LABEL_REGION'"}],staticClass:"col-2 q-my-sm"}),s("div",{staticClass:"col-5"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"col-2 q-my-sm"}),s("div",{staticClass:"col-8"},[s("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.$t("S3FILESTORAGE.INFO_REGION"))+"\n            ")])],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"S3FILESTORAGE.LABEL_HOST",expression:"'S3FILESTORAGE.LABEL_HOST'"}],staticClass:"col-2 q-my-sm"}),s("div",{staticClass:"col-5"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.host,callback:function(t){e.host=t},expression:"host"}})],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"col-2 q-my-sm"}),s("div",{staticClass:"col-8"},[s("q-item-label",{attrs:{caption:""}},[e._v("\n              "+e._s(e.$t("S3FILESTORAGE.INFO_HOST"))+"\n            ")])],1)]),s("div",{staticClass:"row q-mb-md"},[s("div",{directives:[{name:"t",rawName:"v-t",value:"S3FILESTORAGE.LABEL_BUCKET_PREFIX",expression:"'S3FILESTORAGE.LABEL_BUCKET_PREFIX'"}],staticClass:"col-2 q-my-sm"}),s("div",{staticClass:"col-5"},[s("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.bucketPrefix,callback:function(t){e.bucketPrefix=t},expression:"bucketPrefix"}})],1)]),s("div",{staticClass:"row q-mb-xl"},[s("div",{staticClass:"col-2 q-my-sm"}),s("div",{staticClass:"col-5"},[s("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("S3FILESTORAGE.BUTTON_TEST_CONNECTION")},on:{click:e.testConnection}})],1)])])],1),s("div",{staticClass:"q-pt-md text-right"},[s("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.save}})],1)],1),s("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.saving}},[s("q-linear-progress",{attrs:{query:""}})],1)],1)},a=[],n=s("4245"),o=s("21ac"),r=s("e539"),c=s("86ed"),l={name:"S3FilestorageAdminSettings",mounted:function(){this.populate()},beforeRouteLeave:function(e,t,s){this.doBeforeRouteLeave(e,t,s)},data:function(){return{saving:!1,accessKey:"",secretKey:"",region:"",host:"",bucketPrefix:"",testingConnection:!1}},methods:{hasChanges:function(){var e=c["a"].getS3FilestorageSettings();return this.accessKey!==e.accessKey||this.secretKey!==e.secretKey||this.region!==e.region||this.host!==e.host||this.bucketPrefix!==e.bucketPrefix},revertChanges:function(){this.populate()},save:function(){var e=this;if(!this.saving){this.saving=!0;var t={AccessKey:this.accessKey,SecretKey:this.secretKey,Region:this.region,Host:this.host,BucketPrefix:this.bucketPrefix};r["a"].sendRequest({moduleName:"S3Filestorage",methodName:"UpdateS3Settings",parameters:t}).then((function(t){e.saving=!1,!0===t?(c["a"].saveS3FilestorageSettings({accessKey:e.accessKey,secretKey:e.secretKey,region:e.region,host:e.host,bucketPrefix:e.bucketPrefix}),e.populate(),o["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):o["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(t){e.saving=!1,o["a"].showError(n["a"].getTextFromResponse(t,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},populate:function(){var e=c["a"].getS3FilestorageSettings();this.accessKey=e.accessKey,this.secretKey=e.secretKey,this.region=e.region,this.host=e.host,this.bucketPrefix=e.bucketPrefix},testConnection:function(){var e=this;if(!this.testingConnection){this.testingConnection=!0;var t={AccessKey:this.accessKey,SecretKey:this.secretKey,Region:this.region,Host:this.host};r["a"].sendRequest({moduleName:"S3Filestorage",methodName:"TestConnection",parameters:t}).then((function(t){e.testingConnection=!1,!0===t?o["a"].showReport(e.$t("S3FILESTORAGE.REPORT_CONNECT_SUCCESSFUL")):o["a"].showError(e.$t("S3FILESTORAGE.ERROR_CONNECT_FAILED"))}),(function(t){e.testingConnection=!1,o["a"].showError(n["a"].getTextFromResponse(t,e.$t("S3FILESTORAGE.ERROR_CONNECT_FAILED")))}))}}}},E=l,u=s("2877"),d=s("4983"),S=s("f09f"),v=s("a370"),C=s("27f9"),m=s("0170"),p=s("9c40"),y=s("74f7"),h=s("6b1d"),f=s("eebe"),g=s.n(f),T=Object(u["a"])(E,i,a,!1,null,"15314488",null);t["default"]=T.exports;g()(T,"components",{QScrollArea:d["a"],QCard:S["a"],QCardSection:v["a"],QInput:C["a"],QItemLabel:m["a"],QBtn:p["a"],QInnerLoading:y["a"],QLinearProgress:h["a"]})}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{efa5:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-scroll-area",{staticClass:"full-height full-width"},[t("div",{staticClass:"q-pa-lg"},[t("div",{staticClass:"row q-mb-md"},[t("div",{staticClass:"col text-h5"},[e._v(e._s(e.$t("ACTIVESERVER.HEADING_SETTINGS_TAB")))])]),t("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[t("q-card-section",[t("div",{staticClass:"row q-mb-sm"},[t("div",{directives:[{name:"t",rawName:"v-t",value:"ACTIVESERVER.LABEL_LICENSING_MAX_NUMBER_OF_USERS",expression:"'ACTIVESERVER.LABEL_LICENSING_MAX_NUMBER_OF_USERS'"}],staticClass:"col-2"}),t("div",{staticClass:"col-5 text-weight-medium"},[t("span",[e._v(e._s(e.licensedUsersCount))])])]),t("div",{staticClass:"row q-mb-md"},[t("div",{directives:[{name:"t",rawName:"v-t",value:"ACTIVESERVER.LABEL_LICENSING_USERS_ALLOCATED",expression:"'ACTIVESERVER.LABEL_LICENSING_USERS_ALLOCATED'"}],staticClass:"col-2"}),t("div",{staticClass:"col-5 text-weight-medium"},[t("span",[e._v(e._s(e.usersCount))])])]),t("div",{staticClass:"row q-mb-md"},[t("div",{directives:[{name:"t",rawName:"v-t",value:"ACTIVESERVER.LABEL_LICENSING_FREE_SLOTS",expression:"'ACTIVESERVER.LABEL_LICENSING_FREE_SLOTS'"}],staticClass:"col-2"}),t("div",{staticClass:"col-5 text-weight-medium"},[t("span",[e._v(e._s(e.usersFreeSlots))])])]),t("div",{staticClass:"row q-mb-md"},[t("div",{directives:[{name:"t",rawName:"v-t",value:"ACTIVESERVER.LABEL_LICENSING_TYPE",expression:"'ACTIVESERVER.LABEL_LICENSING_TYPE'"}],staticClass:"col-2"}),t("div",{staticClass:"col-5 text-weight-medium"},[t("span",[e._v(e._s(e.licenceType))])])]),t("div",{staticClass:"row q-my-md"},[t("div",{directives:[{name:"t",rawName:"v-t",value:"ACTIVESERVER.LABEL_SERVER_HOST",expression:"'ACTIVESERVER.LABEL_SERVER_HOST'"}],staticClass:"col-2 q-my-sm"}),t("div",{staticClass:"col-5"},[t("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.server,callback:function(s){e.server=s},expression:"server"}})],1)]),t("div",{staticClass:"row"},[t("div",[t("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("ACTIVESERVER.HINT_SERVER_HOST"))}})],1)]),t("div",{staticClass:"row q-my-md"},[t("div",{directives:[{name:"t",rawName:"v-t",value:"ACTIVESERVER.LABEL_LINK",expression:"'ACTIVESERVER.LABEL_LINK'"}],staticClass:"col-2 q-my-sm"}),t("div",{staticClass:"col-5"},[t("q-input",{attrs:{outlined:"",dense:"","bg-color":"white"},model:{value:e.linkToManual,callback:function(s){e.linkToManual=s},expression:"linkToManual"}})],1)]),t("div",{staticClass:"row"},[t("div",[t("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("ACTIVESERVER.HINT_LINK_TO_MANUAL"))}})],1)]),t("div",{staticClass:"row q-my-md"},[t("q-checkbox",{attrs:{dense:""},model:{value:e.enableForNewUsers,callback:function(s){e.enableForNewUsers=s},expression:"enableForNewUsers"}},[t("q-item-label",[e._v(e._s(e.$t("ACTIVESERVER.ENABLE_FOR_NEW_USERS")))])],1)],1),t("div",{staticClass:"row"},[t("div",[t("q-item-label",{attrs:{caption:""},domProps:{innerHTML:e._s(e.$t("ACTIVESERVER.HINT_FOR_NEW_USERS"))}})],1)])])],1),t("div",{staticClass:"q-pt-md text-right"},[t("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.save}})],1)],1),t("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.saving}},[t("q-linear-progress",{attrs:{query:""}})],1)],1)},i=[],n=t("4245"),r=t("21ac"),E=t("e539"),o=t("91e8"),l={name:"ActiveSyncAdminSettings",data:function(){return{saving:!1,enableModule:!1,enableModuleForUser:!1,enableForNewUsers:!1,usersCount:0,licensedUsersCount:0,usersFreeSlots:0,server:"",linkToManual:"",productName:"",licenceType:""}},mounted:function(){this.populate(),this.getLicenseInfo(),this.getSettings()},beforeRouteLeave:function(e,s,t){this.doBeforeRouteLeave(e,s,t)},methods:{hasChanges:function(){var e=o["a"].getActiveServerSettings();return this.enableForNewUsers!==e.enableForNewUsers||this.server!==e.server||this.linkToManual!==e.linkToManual},revertChanges:function(){this.populate()},save:function(){var e=this;if(!this.saving){this.saving=!0;var s={EnableModule:!0,EnableForNewUsers:this.enableForNewUsers,Server:this.server,LinkToManual:this.linkToManual};E["a"].sendRequest({moduleName:"ActiveServer",methodName:"UpdateSettings",parameters:s}).then((function(s){e.saving=!1,!0===s?(o["a"].saveActiveServerSettings({server:e.server,enableForNewUsers:e.enableForNewUsers,enableModule:e.enableModule,linkToManual:e.linkToManual}),e.populate(),e.getSettings(),r["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):r["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(s){e.saving=!1,r["a"].showError(n["a"].getTextFromResponse(s,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}},getLicenseInfo:function(){var e=this;E["a"].sendRequest({moduleName:"ActiveServer",methodName:"GetLicenseInfo"}).then((function(s){if(e.licenceType=e.$t("LICENSINGWEBCLIENT.LABEL_TYPE_INVALID"),s)switch(s.Type){case 0:e.licenceType=e.$t("LICENSINGWEBCLIENT.LABEL_TYPE_UNLIM");break;case 1:e.licenceType=e.$tc("LICENSINGWEBCLIENT.LABEL_TYPE_PERMANENT_PLURAL",s.Count,{COUNT:s.Count});break;case 2:e.licenceType=e.$tc("LICENSINGWEBCLIENT.LABEL_TYPE_DOMAINS_PLURAL",s.Count,{COUNT:s.Count});break;case 4:s.ExpiresIn<1&&(e.licenceType=e.$t("LICENSINGWEBCLIENT.LABEL_TYPE_OUTDATED_INFO"));break;case 3:case 10:e.licenceType=3===s.Type?e.$tc("LICENSINGWEBCLIENT.LABEL_TYPE_ANNUAL_PLURAL",s.Count,{COUNT:s.Count}):e.$t("LICENSINGWEBCLIENT.LABEL_TYPE_TRIAL"),"*"!==s.ExpiresIn&&(s.ExpiresIn>0?e.licenceType+=e.$tc("LICENSINGWEBCLIENT.LABEL_TYPE_EXPIRES_IN_PLURAL",s.ExpiresIn,{DAYS:s.ExpiresIn}):e.licenceType+=e.$t("LICENSINGWEBCLIENT.LABEL_TYPE_EXPIRED")+" "+e.$t("LICENSINGWEBCLIENT.LABEL_TYPE_OUTDATED_INFO"));break}}))},getSettings:function(){var e=this;E["a"].sendRequest({moduleName:"ActiveServer",methodName:"GetSettings"}).then((function(s){e.usersCount=s.UsersCount,e.licensedUsersCount=s.LicensedUsersCount,e.usersFreeSlots=s.UsersFreeSlots}))},populate:function(){var e=o["a"].getActiveServerSettings();this.enableModule=e.enableModule,this.enableModuleForUser=e.enableModuleForUser,this.enableForNewUsers=e.enableForNewUsers,this.server=e.server,this.linkToManual=e.linkToManual,this.productName=e.productName}}},c=l,L=t("2877"),N=t("4983"),C=t("f09f"),d=t("a370"),u=t("27f9"),I=t("0170"),T=t("8f8e"),v=t("9c40"),_=t("74f7"),S=t("6b1d"),A=t("eebe"),R=t.n(A),m=Object(L["a"])(c,a,i,!1,null,"71977762",null);s["default"]=m.exports;R()(m,"components",{QScrollArea:N["a"],QCard:C["a"],QCardSection:d["a"],QInput:u["a"],QItemLabel:I["a"],QCheckbox:T["a"],QBtn:v["a"],QInnerLoading:_["a"],QLinearProgress:S["a"]})}}]);
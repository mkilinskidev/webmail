(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"91e8":function(e,t,n){"use strict";var a=n("970b"),s=n.n(a),r=n("5bc3"),i=n.n(r),o=n("b2f5"),l=n.n(o),c=n("6bfe"),u=function(){function e(t){s()(this,e);var n=c["a"].pObject(t.ActiveServer);l.a.isEmpty(n)||(this.enableModule=c["a"].pBool(n.EnableModule),this.enableModuleForUser=c["a"].pBool(n.EnableModuleForUser),this.enableForNewUsers=c["a"].pBool(n.EnableForNewUsers),this.usersCount=c["a"].pInt(n.UsersCount),this.licensedUsersCount=c["a"].pInt(n.LicensedUsersCount),this.usersFreeSlots=c["a"].pInt(n.UsersFreeSlots),this.server=c["a"].pString(n.Server),this.linkToManual=c["a"].pString(n.LinkToManual))}return i()(e,[{key:"saveActiveServerSettings",value:function(e){var t=e.enableModule,n=e.enableForNewUsers,a=e.server,s=e.linkToManual;this.enableModule=t,this.enableForNewUsers=n,this.server=a,this.linkToManual=s}}]),e}(),v=null;t["a"]={init:function(e){v=new u(e)},saveActiveServerSettings:function(e){v.saveActiveServerSettings(e)},getActiveServerSettings:function(){return{enableModule:v.enableModule,enableModuleForUser:v.enableModuleForUser,enableForNewUsers:v.enableForNewUsers,usersCount:v.usersCount,licensedUsersCount:v.licensedUsersCount,usersFreeSlots:v.usersFreeSlots,server:v.server,linkToManual:v.linkToManual}}}},ceac:function(e,t,n){"use strict";n.r(t);n("c7fe"),n("3119"),n("8da0"),n("b5bb"),n("a2b7");var a=n("91e8"),s=n("4360"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-scroll-area",{staticClass:"full-height full-width"},[n("div",{staticClass:"q-pa-lg"},[n("div",{staticClass:"row q-mb-md"},[n("div",{staticClass:"col text-h5"},[e._v(e._s(e.$t("ACTIVESERVER.HEADING_SETTINGS_TAB")))])]),n("q-card",{staticClass:"card-edit-settings",attrs:{flat:"",bordered:""}},[n("q-card-section",[n("div",{staticClass:"row"},[n("q-checkbox",{attrs:{dense:""},model:{value:e.enableActiveSync,callback:function(t){e.enableActiveSync=t},expression:"enableActiveSync"}},[n("q-item-label",{directives:[{name:"t",rawName:"v-t",value:"ACTIVESERVER.LABEL_ENABLE_ACTIVESYNC",expression:"'ACTIVESERVER.LABEL_ENABLE_ACTIVESYNC'"}]})],1)],1)])],1),n("div",{staticClass:"q-pt-md text-right"},[n("q-btn",{staticClass:"q-px-sm",attrs:{unelevated:"","no-caps":"",dense:"",ripple:!1,color:"primary",label:e.$t("COREWEBCLIENT.ACTION_SAVE")},on:{click:e.updateSettingsForEntity}})],1)],1),n("q-inner-loading",{staticStyle:{"justify-content":"flex-start"},attrs:{showing:e.loading||e.saving}},[n("q-linear-progress",{attrs:{query:""}})],1)],1)},i=[],o=n("b2f5"),l=n.n(o),c=n("4245"),u=n("21ac"),v=n("6bfe"),d=n("e539"),b=n("11cb"),h={name:"ActiveSyncAdminSettingsPerUser",data:function(){return{saving:!1,loading:!1,enableActiveSync:!1}},watch:{$route:function(e,t){this.parseRoute()}},mounted:function(){this.parseRoute()},beforeRouteLeave:function(e,t,n){this.doBeforeRouteLeave(e,t,n)},methods:{getEnableActiveSyncFromUser:function(){var e,t=v["a"].pObject(null===(e=this.user)||void 0===e?void 0:e.completeData);return v["a"].pBool(t["ActiveServer::Enabled"])},hasChanges:function(){var e=this.getEnableActiveSyncFromUser();return this.enableActiveSync!==e},revertChanges:function(){this.enableActiveSync=this.getEnableActiveSyncFromUser()},parseRoute:function(){var e,t,n,a=v["a"].pPositiveInt(null===(e=this.$route)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id);(null===(n=this.user)||void 0===n?void 0:n.id)!==a&&(this.user={id:a},this.populate())},populate:function(){var e=this;this.loading=!0;var t=this.$store.getters["tenants/getCurrentTenantId"];b["a"].getUser(t,this.user.id).then((function(t){var n=t.user,a=t.userId;a===e.user.id&&(e.loading=!1,n&&l.a.isFunction(null===n||void 0===n?void 0:n.getData)?(e.user=n,e.enableActiveSync=e.getEnableActiveSyncFromUser()):e.$emit("no-user-found"))}))},updateSettingsForEntity:function(){var e=this;if(!this.saving){var t;this.saving=!0;var n={UserId:null===(t=this.user)||void 0===t?void 0:t.id,TenantId:this.user.tenantId,EnableModule:v["a"].pBool(this.enableActiveSync)};d["a"].sendRequest({moduleName:"ActiveServer",methodName:"UpdatePerUserSettings",parameters:n}).then((function(t){var a;(e.saving=!1,t)?(b["a"].getUser(n.TenantId,null===(a=e.user)||void 0===a?void 0:a.id).then((function(t){var n=t.user;n.updateData([{field:"ActiveServer::Enabled",value:v["a"].pBool(e.enableActiveSync)}]),e.populate()})),u["a"].showReport(e.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):u["a"].showError(e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(function(t){e.saving=!1,u["a"].showError(c["a"].getTextFromResponse(t,e.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}}}},E=h,S=n("2877"),p=n("4983"),A=n("f09f"),f=n("a370"),g=n("8f8e"),C=n("0170"),m=n("9c40"),T=n("74f7"),I=n("6b1d"),R=n("eebe"),N=n.n(R),U=Object(S["a"])(E,r,i,!1,null,null,null),F=U.exports;N()(U,"components",{QScrollArea:p["a"],QCard:A["a"],QCardSection:f["a"],QCheckbox:g["a"],QItemLabel:C["a"],QBtn:m["a"],QInnerLoading:T["a"],QLinearProgress:I["a"]});t["default"]={moduleName:"ActiveServer",requiredModules:[],init:function(e){a["a"].init(e)},getAdminSystemTabs:function(){return[{tabName:"activeserver",tabTitle:"ACTIVESERVER.LABEL_SETTINGS_TAB",tabRouteChildren:[{path:"activeserver",component:function(){return n.e(21).then(n.bind(null,"efa5"))}}]}]},getAdminUserTabs:function(){var e=s["a"].getters["user/isUserSuperAdmin"];return e?[{tabName:"activeserver",tabTitle:"ACTIVESERVER.LABEL_SETTINGS_TAB",tabRouteChildren:[{path:"id/:id/activeserver",component:F},{path:"search/:search/id/:id/activeserver",component:F},{path:"page/:page/id/:id/activeserver",component:F},{path:"search/:search/page/:page/id/:id/activeserver",component:F}]}]:[]}}}}]);
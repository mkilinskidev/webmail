(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{kdpN:function(e,t,i){"use strict";var n=i("xG9w"),s=i("AFLV");e.exports={HashModuleName:"settings",TabsOrder:["common","mail","mail-accounts","contacts","calendar","files","mobilesync","outlooksync","helpdesk","openpgp"],init:function(e){var t=e.SettingsWebclient;n.isEmpty(t)||(this.TabsOrder=s.pArray(t.TabsOrder,this.TabsOrder))}}},qrIc:function(e,t,i){"use strict";var n=i("xG9w"),s=i("EVdn"),a=i("0h2I"),o=i("IAk5"),r=i("QaF5"),c=i("xcwT"),h=i("kdpN"),u=s("html");function b(){c.call(this,"SettingsWebclient"),this.tabs=a.observableArray([]),this.currentTab=a.observable(null),o.subscribeEvent("OpenSettingTab",n.bind((function(e){this.changeTab(e.Name)}),this)),o.broadcastEvent("SettingsWebclient::ConstructView::after",{Name:this.ViewConstructorName,View:this})}n.extendOwn(b.prototype,c.prototype),b.prototype.ViewTemplate="SettingsWebclient_SettingsView",b.prototype.ViewConstructorName="CSettingsView",b.prototype.registerTab=function(e,t,i){var s=h.TabsOrder.length,a=e(),o=n.findWhere(this.tabs(),{name:t});n.isEmpty(a)||(a.SettingsTabName=t,a.SettingsTabTitle=i,o&&(n.isArray(o.sections)&&(n.each(o.sections,(function(e){a.addSettingsSection(e)})),delete o.sections),o.view=a)),o||this.tabs.push({view:a,name:t}),this.tabs(n.sortBy(this.tabs(),(function(e){var t=n.indexOf(h.TabsOrder,e.name);return-1!==t?t:s})))},b.prototype.registerTabSection=function(e,t){var i=n.findWhere(this.tabs(),{name:t}),s=e();i?i.view.addSettingsSection(s):(this.registerTab((function(){return{visible:a.observable(!1)}}),t,""),(i=n.findWhere(this.tabs(),{name:t}))&&(n.isArray(i.sections)||(i.sections=[]),i.sections.push(s)))},b.prototype.hasUnsavedChanges=function(){var e=this.currentTab();return e&&e.view&&n.isFunction(e.view.hasUnsavedChanges)&&e.view.hasUnsavedChanges()},b.prototype.discardChanges=function(){var e=this.currentTab();e&&e.view&&n.isFunction(e.view.revert)&&e.view.revert()},b.prototype.onShow=function(){u.addClass("non-adjustable")},b.prototype.onHide=function(){var e=this.currentTab();e&&n.isFunction(e.view.hide)&&e.view.hide((function(){}),(function(){})),u.removeClass("non-adjustable")},b.prototype.onRoute=function(e){var t=e.shift(),i=this.currentTab(),s=n.find(this.tabs(),(function(e){return e.name===t})),a=function(){s&&(n.isFunction(s.view.showTab)&&s.view.showTab(e),this.currentTab(s),s.name!==t&&r.replaceHashDirectly([h.HashModuleName,s.name]))}.bind(this),o=n.bind((function(){i&&r.replaceHashDirectly([h.HashModuleName,i.name])}),this),c=!0;i&&t===i.name?n.isFunction(i.view.showTab)&&i.view.showTab(e):(s&&s.view.visible&&!s.view.visible()&&(s=n.find(this.tabs(),(function(e){return!e.view.visible||e.view.visible()}))),s?i&&n.isFunction(i.view.hide)&&(i.view.hide(a,o),c=!1):i||(s=n.find(this.tabs(),(function(e){return!e.view.visible||e.view.visible()}))),c&&a())},b.prototype.changeTab=function(e){r.setHash([h.HashModuleName,e])},b.prototype.setAddHash=function(e){r.setHash(n.union([h.HashModuleName,this.currentTab()?this.currentTab().name:""],e))},e.exports=new b},rzp2:function(e,t,i){"use strict";(function(t){e.exports=function(e){var n=i("0h2I");return i("IAk5").isUserNormalOrTenant()?{start:function(e){var s=i("qrIc"),a=t("html");s.ViewTemplate="SettingsMobileWebclient_SettingsView",s.appsDom=null,s.showApps=n.observable(!1),s.onShow=function(){a.addClass("non-adjustable"),null===this.appsDom&&(this.appsDom=t("#apps-list"),this.appsDom.on("click",function(){this.showApps(!1)}.bind(this)),this.showApps.subscribe((function(e){t("body").toggleClass("with-panel-right-cover",e)}),this))}}}:null}}).call(this,i("EVdn"))}}]);
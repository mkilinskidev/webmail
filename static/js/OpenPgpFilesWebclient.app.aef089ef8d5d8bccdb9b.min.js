(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"+x5O":function(e,t,n){"use strict";var o=n("xG9w"),r=n("AFLV");e.exports={ServerModuleName:"OpenPgpFilesWebclient",HashModuleName:"openpgp-files",SelfDestructMessageHash:"self-destruct",ProductName:"",EnableSelfDestructingMessages:!0,EnablePublicLinkLifetime:!0,PublicFileData:{},init:function(e){var t=e[this.ServerModuleName],n=e.Core;o.isEmpty(t)||(this.EnableSelfDestructingMessages=r.pBool(t.EnableSelfDestructingMessages,this.EnableSelfDestructingMessages),this.EnablePublicLinkLifetime=r.pBool(t.EnablePublicLinkLifetime,this.EnablePublicLinkLifetime),this.PublicFileData=r.pObject(t.PublicFileData,this.PublicFileData)),o.isEmpty(n)||(this.ProductName=r.pString(n.ProductName,this.ProductName))}}},0:function(e,t){},"1kFK":function(e,t,n){"use strict";var o=n("xG9w"),r=n("RN+F"),i=n("SQrT"),s={showPgpErrorByCode:function(e,t,n){var s=o.isArray(e.errors)?e.errors:[],a=o.isArray(e.notices)?e.notices:[],l=[],c=[],u="",p=!1,h=!0;if(o.each(o.union(s,a),(function(e){if(2===e.length)switch(e[0]){case Enums.OpenPgpErrors.GenerateKeyError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_GENERATE_KEY");break;case Enums.OpenPgpErrors.ImportKeyError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_IMPORT_KEY");break;case Enums.OpenPgpErrors.ImportNoKeysFoundError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_IMPORT_NO_KEY_FOUND");break;case Enums.OpenPgpErrors.PrivateKeyNotFoundError:case Enums.OpenPgpErrors.PrivateKeyNotFoundNotice:c.push(e[1]);break;case Enums.OpenPgpErrors.PublicKeyNotFoundError:h=!1,l.push(e[1]);break;case Enums.OpenPgpErrors.PublicKeyNotFoundNotice:l.push(e[1]);break;case Enums.OpenPgpErrors.KeyIsNotDecodedError:u=t===Enums.PgpAction.DecryptVerify?r.i18n("OPENPGPFILESWEBCLIENT/ERROR_DECRYPT")+" "+r.i18n("OPENPGPFILESWEBCLIENT/ERROR_KEY_NOT_DECODED",{USER:e[1]}):t===Enums.PgpAction.Sign||t===Enums.PgpAction.EncryptSign?r.i18n("OPENPGPFILESWEBCLIENT/ERROR_SIGN")+" "+r.i18n("OPENPGPFILESWEBCLIENT/ERROR_KEY_NOT_DECODED",{USER:e[1]}):r.i18n("OPENPGPFILESWEBCLIENT/ERROR_KEY_NOT_DECODED",{USER:e[1]});break;case Enums.OpenPgpErrors.SignError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_SIGN");break;case Enums.OpenPgpErrors.VerifyError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_VERIFY");break;case Enums.OpenPgpErrors.EncryptError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_ENCRYPT");break;case Enums.OpenPgpErrors.DecryptError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_DECRYPT");break;case Enums.OpenPgpErrors.PasswordDecryptError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_PASSWORD_DECRYPT");break;case Enums.OpenPgpErrors.SignAndEncryptError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_ENCRYPT_OR_SIGN");break;case Enums.OpenPgpErrors.VerifyAndDecryptError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_DECRYPT_OR_VERIFY");break;case Enums.OpenPgpErrors.DeleteError:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_DELETE_KEY");break;case Enums.OpenPgpErrors.VerifyErrorNotice:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_VERIFY");break;case Enums.OpenPgpErrors.NoSignDataNotice:p=!0;break;case Enums.OpenPgpErrors.CanNotReadMessage:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_CAN_NOT_READ_MESSAGE");break;default:u=r.i18n("COREWEBCLIENT/ERROR_UNKNOWN")}})),l.length>0?((l=o.without(l,"")).length>0?u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_NO_PUBLIC_KEYS_FOR_USERS_PLURAL",{USERS:l.join(", ")},null,l.length):t===Enums.PgpAction.Verify&&(u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_NO_PUBLIC_KEY_FOUND_FOR_VERIFY")),h&&""!==u&&(u+=" "+r.i18n("OPENPGPFILESWEBCLIENT/ERROR_MESSAGE_WAS_NOT_VERIFIED"))):c.length>0&&((c=o.without(c,"")).length>0?u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_NO_PRIVATE_KEYS_FOR_USERS_PLURAL",{USERS:c.join(", ")},null,c.length):t===Enums.PgpAction.DecryptVerify&&(u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_NO_PRIVATE_KEY_FOUND_FOR_DECRYPT"))),""===u&&!p)switch(t){case Enums.PgpAction.Generate:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_GENERATE_KEY");break;case Enums.PgpAction.Import:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_IMPORT_KEY");break;case Enums.PgpAction.DecryptVerify:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_DECRYPT");break;case Enums.PgpAction.Verify:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_VERIFY");break;case Enums.PgpAction.Encrypt:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_ENCRYPT");break;case Enums.PgpAction.EncryptSign:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_ENCRYPT_OR_SIGN");break;case Enums.PgpAction.Sign:u=r.i18n("OPENPGPFILESWEBCLIENT/ERROR_SIGN")}return""===u&&n&&(u=n),""===u&&(u=r.i18n("COREWEBCLIENT/ERROR_UNKNOWN")),""!==u&&i.showError(u),p}};e.exports=s},"3kVj":function(e,t,n){var o=n("KAUg");"string"==typeof o&&(o=[[e.i,o,""]]);n("ZuTH")(o,{});o.locals&&(e.exports=o.locals)},"3vk+":function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,s=Object.create(r.prototype),a=new A(o||[]);return i(s,"_invoke",{value:w(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=p;var v={};function d(){}function f(){}function m(){}var y={};u(y,a,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(S([])));b&&b!==t&&n.call(b,a)&&(y=b);var g=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var r;i(this,"_invoke",{value:function(i,s){function a(){return new t((function(r,a){!function r(i,s,a,l){var c=h(e[i],e,s);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(c.arg)}(i,s,r,a)}))}return r=r?r.then(a,a):a()}})}function w(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return x()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=h(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=h(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},j(P.prototype),u(P.prototype,l,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new P(p(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},e}function i(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))}}var a=n("xG9w"),l=n("0h2I"),c=n("RN+F"),u=n("ZP6a"),p=n("o0Bx"),h=n("IAk5"),v=n("czxF"),d=n("OgeD"),f=n("76Kh"),m=n("SQrT"),y=n("1kFK"),E=d.run("ActivityHistory","getShowHistoryPopup"),b=d.run("OpenPgpWebclient","getOpenPgpEncryptor");function g(){var e=this;v.call(this),this.item=null,this.publicLink=l.observable(""),this.password=l.observable(""),this.publicLinkFocus=l.observable(!1),this.isRemovingPublicLink=l.observable(!1),this.recipientAutocomplete=l.observable(""),this.recipientAutocompleteItem=l.observable(null),this.isEmailEncryptionAvailable=l.observable(!1),this.sendLinkHintText=l.observable(""),this.linkLabel=l.computed((function(){return this.password()?c.i18n("OPENPGPFILESWEBCLIENT/LABEL_PROTECTED_PUBLIC_LINK"):c.i18n("OPENPGPFILESWEBCLIENT/LABEL_PUBLIC_LINK")}),this),this.signEmailHintText=l.observable(c.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_EMAIL")),this.sign=l.observable(!1),this.isPrivateKeyAvailable=l.observable(!1),this.isSigningAvailable=l.observable(!1),this.sUserEmail="",this.recipientAutocompleteItem.subscribe((function(t){if(t){var n=c.i18n("OPENPGPFILESWEBCLIENT/HINT_SEND_LINK");t.hasKey?(e.password()?(n=c.i18n("OPENPGPFILESWEBCLIENT/HINT_SEND_LINK_AND_PASSWORD"),e.isEmailEncryptionAvailable(!0)):e.isEmailEncryptionAvailable(!1),e.isPrivateKeyAvailable()&&e.isEmailEncryptionAvailable()&&(n=c.i18n("OPENPGPFILESWEBCLIENT/HINT_SEND_LINK_AND_PASSWORD_SIGNED"),e.isSigningAvailable(!0),e.sign(!0))):(e.isEmailEncryptionAvailable(!1),e.password()&&(n=c.i18n("OPENPGPFILESWEBCLIENT/HINT_SEND_DIFFERENT_CHANNEL")),e.isSigningAvailable(!1),e.sign(!1)),e.sendLinkHintText(n)}else e.isSigningAvailable(!1),e.sign(!1)})),this.sign.subscribe((function(t){t?(e.signEmailHintText(c.i18n("OPENPGPFILESWEBCLIENT/HINT_SIGN_EMAIL")),e.sendLinkHintText(c.i18n("OPENPGPFILESWEBCLIENT/HINT_SEND_LINK_AND_PASSWORD_SIGNED"))):(e.signEmailHintText(c.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_EMAIL")),e.sendLinkHintText(c.i18n("OPENPGPFILESWEBCLIENT/HINT_SEND_LINK_AND_PASSWORD")))})),this.composeMessageWithData=d.run("MailWebclient","getComposeMessageWithData"),this.bAllowSendMessage=!!this.composeMessageWithData,this.bAllowShowHistory=!!E,this.addButtons=l.observableArray([])}a.extendOwn(g.prototype,v.prototype),g.prototype.PopupTemplate="OpenPgpFilesWebclient_SharePopup",g.prototype.onOpen=function(){var e=s(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.item=t,this.publicLink(""),this.password(""),!(this.item.published()&&this.item.oExtendedProps&&this.item.oExtendedProps.PublicLink)){e.next=17;break}return this.publicLink(u.getAppPath()+this.item.oExtendedProps.PublicLink),this.publicLinkFocus(!0),this.password(this.item.oExtendedProps.PasswordForSharing?this.item.oExtendedProps.PasswordForSharing:""),e.next=9,b.oPromiseInitialised;case 9:this.sUserEmail=h.currentAccountEmail?h.currentAccountEmail():"",b.findKeysByEmails([this.sUserEmail],!1).length>0?this.isPrivateKeyAvailable(!0):this.isPrivateKeyAvailable(!1),n={AddButtons:[],Item:t},h.broadcastEvent("OpenPgpFilesWebclient::OpenSharePopup::after",n),this.addButtons(n.AddButtons),e.next=18;break;case 17:m.showError(c.i18n("OPENPGPFILESWEBCLIENT/ERROR_GET_PUBLIC_LINK"));case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),g.prototype.cancelPopup=function(){this.clearPopup(),this.closePopup()},g.prototype.clearPopup=function(){this.recipientAutocompleteItem(null),this.recipientAutocomplete(""),this.sign(!1),this.isEmailEncryptionAvailable(!1),this.sUserEmail=""},g.prototype.onCancelSharingClick=function(){this.item&&(this.isRemovingPublicLink(!0),p.send("Files","DeletePublicLink",{Type:this.item.storageType(),Path:this.item.path(),Name:this.item.fileName()},this.onCancelSharingResponse,this))},g.prototype.onCancelSharingResponse=function(e,t){this.isRemovingPublicLink(!1),e.Result?(this.item.published(!1),this.item.oExtendedProps.PublicLink=null,this.item.oExtendedProps.PasswordForSharing&&(this.item.oExtendedProps.PasswordForSharing=null),this.cancelPopup()):m.showError(c.i18n("OPENPGPFILESWEBCLIENT/ERROR_DELETE_PUBLIC_LINK"))},g.prototype.autocompleteCallback=function(e,t){if(this.item){var n={storage:"all",addContactGroups:!1,addUserGroups:!1,exceptEmail:this.item.sOwnerName},o=d.run("ContactsWebclient","getSuggestionsAutocompleteCallback",[n]);a.isFunction(o)&&(this.recipientAutocompleteItem(null),o(e,t))}else t([])},g.prototype.sendEmail=s(r().mark((function e(){var t,n,o,i,s,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.i18n("OPENPGPFILESWEBCLIENT/PUBLIC_LINK_MESSAGE_SUBJECT",{FILENAME:this.item.fileName()}),!this.recipientAutocompleteItem().hasKey||!this.isEmailEncryptionAvailable()){e.next=12;break}return n="",n=this.password()?c.i18n("OPENPGPFILESWEBCLIENT/ENCRYPTED_LINK_MESSAGE_BODY_WITH_PASSWORD",{URL:this.publicLink(),BR:"\r\n",PASSWORD:this.password()}):c.i18n("OPENPGPFILESWEBCLIENT/ENCRYPTED_LINK_MESSAGE_BODY",{URL:this.publicLink(),BR:"\r\n"}),o=this.recipientAutocompleteItem().email,i=this.recipientAutocompleteItem().uuid,e.next=8,b.encryptMessage(n,o,this.sign(),"",this.sUserEmail,i);case 8:(s=e.sent)&&s.result?(a=s.result,this.composeMessageWithData({to:this.recipientAutocompleteItem().value,subject:t,body:a,isHtml:!1}),this.cancelPopup()):s&&s.userCanceled||y.showPgpErrorByCode(s,Enums.PgpAction.Encrypt),e.next=15;break;case 12:l=c.i18n("OPENPGPFILESWEBCLIENT/LINK_MESSAGE_BODY",{URL:this.publicLink()}),this.composeMessageWithData({to:this.recipientAutocompleteItem().value,subject:t,body:l,isHtml:!0}),this.cancelPopup();case 15:case"end":return e.stop()}}),e,this)}))),g.prototype.showHistory=function(){this.bAllowShowHistory&&f.showPopup(E,[c.i18n("OPENPGPFILESWEBCLIENT/HEADING_HISTORY_POPUP"),this.item])},e.exports=new g},"42lS":function(e,t,n){"use strict";var o=n("xG9w"),r=n("0h2I"),i=n("czxF");function s(){i.call(this),this.htmlEmbed=r.observable("")}o.extendOwn(s.prototype,i.prototype),s.prototype.PopupTemplate="CoreWebclient_EmbedHtmlPopup",s.prototype.onOpen=function(e){this.htmlEmbed(e)},s.prototype.close=function(){this.closePopup(),this.htmlEmbed("")},e.exports=new s},"5hOJ":function(e,t,n){"use strict";var o=n("wd/R"),r=n("RN+F"),i=n("Yjhd"),s=n("hPb3");function a(){this.iTimeStampInUTC=0,this.oMoment=null}a.prototype.parse=function(e){this.iTimeStampInUTC=e,this.oMoment=o.unix(this.iTimeStampInUTC)},a.prototype.setDate=function(e,t,n){this.oMoment=o([e,t,n])},a.prototype.getTimeFormat=function(){return s.timeFormat()===window.Enums.TimeFormat.F24?"HH:mm":"hh:mm A"},a.prototype.getFullDate=function(){return this.getDate()+" "+this.getTime()},a.prototype.getMidDate=function(){return this.getShortDate(!0)},a.prototype.getShortDate=function(e){var t="",n=null;return this.oMoment&&((n=o()).format("L")===this.oMoment.format("L")?t=this.oMoment.format(this.getTimeFormat()):(t=n.clone().subtract(1,"days").format("L")===this.oMoment.format("L")?r.i18n("COREWEBCLIENT/LABEL_YESTERDAY"):s.UserSelectsDateFormat?this.oMoment.format(i.getDateFormatForMoment(s.dateFormat())):n.year()===this.oMoment.year()?this.oMoment.format("MMM D"):this.oMoment.format("MMM D, YYYY"),e&&(t+=", "+this.oMoment.format(this.getTimeFormat())))),t},a.prototype.getDate=function(){var e="ddd, MMM D, YYYY";return s.UserSelectsDateFormat&&(e="ddd, "+i.getDateFormatForMoment(s.dateFormat())),this.oMoment?this.oMoment.format(e):""},a.prototype.getTime=function(){return this.oMoment?this.oMoment.format(this.getTimeFormat()):""},a.prototype.getTimeStampInUTC=function(){return this.iTimeStampInUTC},e.exports=a},"9w3v":function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,s=Object.create(r.prototype),a=new A(o||[]);return i(s,"_invoke",{value:w(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=p;var v={};function d(){}function f(){}function m(){}var y={};u(y,a,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(S([])));b&&b!==t&&n.call(b,a)&&(y=b);var g=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var r;i(this,"_invoke",{value:function(i,s){function a(){return new t((function(r,a){!function r(i,s,a,l){var c=h(e[i],e,s);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(c.arg)}(i,s,r,a)}))}return r=r?r.then(a,a):a()}})}function w(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return x()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=h(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=h(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},j(P.prototype),u(P.prototype,l,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new P(p(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},e}function i(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))}}var a=n("xG9w"),l=n("0h2I"),c=n("RN+F"),u=n("czxF"),p=n("SQrT"),h=n("76Kh"),v=n("3vk+"),d=n("Xu4A"),f=n("+x5O");function m(){u.call(this),this.oItem=null,this.isFolder=l.observable(!1),this.oFilesView=null,this.encryptPublicLink=l.observable(!1),this.allowLifetime=l.computed((function(){return f.EnablePublicLinkLifetime&&this.encryptPublicLink()}),this),this.isCreatingPublicLink=l.observable(!1),this.selectedLifetimeHrs=l.observable(null),this.lifetime=l.observableArray([{label:c.i18n("OPENPGPFILESWEBCLIENT/OPTION_LIFE_TIME_ETERNAL"),value:0},{label:"24 "+c.i18n("OPENPGPFILESWEBCLIENT/OPTION_LIFE_TIME_HOURS"),value:24},{label:"72 "+c.i18n("OPENPGPFILESWEBCLIENT/OPTION_LIFE_TIME_HOURS"),value:72},{label:"7 "+c.i18n("OPENPGPFILESWEBCLIENT/OPTION_LIFE_TIME_DAYS"),value:168}])}a.extendOwn(m.prototype,u.prototype),m.prototype.PopupTemplate="OpenPgpFilesWebclient_CreatePublicLinkPopup",m.prototype.onOpen=function(e,t){this.oItem=e,this.oFilesView=t,this.selectedLifetimeHrs(0),this.isFolder(this.oItem&&!this.oItem.IS_FILE)},m.prototype.cancelPopup=function(){this.clearPopup(),this.closePopup()},m.prototype.clearPopup=function(){this.oItem=null,this.oFilesView=null,this.encryptPublicLink(!1)},m.prototype.createPublicLink=s(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isCreatingPublicLink(!0),e.next=3,d.createPublicLink(this.oItem.storageType(),this.oItem.path(),this.oItem.fileName(),this.oItem.IS_FILE?this.oItem.size():0,this.encryptPublicLink(),"","",this.selectedLifetimeHrs(),!this.oItem.IS_FILE);case 3:t=e.sent,this.isCreatingPublicLink(!1),t.result&&t.link?(this.oItem.published(!0),this.oItem.oExtendedProps.PublicLink=t.link,t.password&&(this.oItem.oExtendedProps.PasswordForSharing=t.password),h.showPopup(v,[this.oItem]),this.cancelPopup()):p.showError(t.errorMessage||c.i18n("OPENPGPFILESWEBCLIENT/ERROR_CREATE_PUBLIC_LINK"));case 6:case"end":return e.stop()}}),e,this)}))),e.exports=new m},KAUg:function(e,t,n){(e.exports=n("JPst")(!1)).push([e.i,'@charset "UTF-8";\n.vjs-modal-dialog .vjs-modal-dialog-content, .video-js .vjs-modal-dialog, .vjs-button > .vjs-icon-placeholder:before, .video-js .vjs-big-play-button .vjs-icon-placeholder:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.vjs-button > .vjs-icon-placeholder:before, .video-js .vjs-big-play-button .vjs-icon-placeholder:before {\n  text-align: center;\n}\n\n@font-face {\n  font-family: VideoJS;\n  src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format("woff");\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-play, .video-js .vjs-play-control .vjs-icon-placeholder, .video-js .vjs-big-play-button .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-play:before, .video-js .vjs-play-control .vjs-icon-placeholder:before, .video-js .vjs-big-play-button .vjs-icon-placeholder:before {\n  content: "\\f101";\n}\n\n.vjs-icon-play-circle {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-play-circle:before {\n  content: "\\f102";\n}\n\n.vjs-icon-pause, .video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-pause:before, .video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before {\n  content: "\\f103";\n}\n\n.vjs-icon-volume-mute, .video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-volume-mute:before, .video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before {\n  content: "\\f104";\n}\n\n.vjs-icon-volume-low, .video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-volume-low:before, .video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before {\n  content: "\\f105";\n}\n\n.vjs-icon-volume-mid, .video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-volume-mid:before, .video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before {\n  content: "\\f106";\n}\n\n.vjs-icon-volume-high, .video-js .vjs-mute-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-volume-high:before, .video-js .vjs-mute-control .vjs-icon-placeholder:before {\n  content: "\\f107";\n}\n\n.vjs-icon-fullscreen-enter, .video-js .vjs-fullscreen-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-fullscreen-enter:before, .video-js .vjs-fullscreen-control .vjs-icon-placeholder:before {\n  content: "\\f108";\n}\n\n.vjs-icon-fullscreen-exit, .video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-fullscreen-exit:before, .video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before {\n  content: "\\f109";\n}\n\n.vjs-icon-square {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-square:before {\n  content: "\\f10a";\n}\n\n.vjs-icon-spinner {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-spinner:before {\n  content: "\\f10b";\n}\n\n.vjs-icon-subtitles, .video-js .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder, .video-js .vjs-subtitles-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-subtitles:before, .video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before, .video-js .vjs-subtitles-button .vjs-icon-placeholder:before {\n  content: "\\f10c";\n}\n\n.vjs-icon-captions, .video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder, .video-js .vjs-captions-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-captions:before, .video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,\n.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before, .video-js .vjs-captions-button .vjs-icon-placeholder:before {\n  content: "\\f10d";\n}\n\n.vjs-icon-chapters, .video-js .vjs-chapters-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-chapters:before, .video-js .vjs-chapters-button .vjs-icon-placeholder:before {\n  content: "\\f10e";\n}\n\n.vjs-icon-share {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-share:before {\n  content: "\\f10f";\n}\n\n.vjs-icon-cog {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-cog:before {\n  content: "\\f110";\n}\n\n.vjs-icon-circle, .vjs-seek-to-live-control .vjs-icon-placeholder, .video-js .vjs-volume-level, .video-js .vjs-play-progress {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-circle:before, .vjs-seek-to-live-control .vjs-icon-placeholder:before, .video-js .vjs-volume-level:before, .video-js .vjs-play-progress:before {\n  content: "\\f111";\n}\n\n.vjs-icon-circle-outline {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-circle-outline:before {\n  content: "\\f112";\n}\n\n.vjs-icon-circle-inner-circle {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-circle-inner-circle:before {\n  content: "\\f113";\n}\n\n.vjs-icon-hd {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-hd:before {\n  content: "\\f114";\n}\n\n.vjs-icon-cancel, .video-js .vjs-control.vjs-close-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-cancel:before, .video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before {\n  content: "\\f115";\n}\n\n.vjs-icon-replay, .video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-replay:before, .video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before {\n  content: "\\f116";\n}\n\n.vjs-icon-facebook {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-facebook:before {\n  content: "\\f117";\n}\n\n.vjs-icon-gplus {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-gplus:before {\n  content: "\\f118";\n}\n\n.vjs-icon-linkedin {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-linkedin:before {\n  content: "\\f119";\n}\n\n.vjs-icon-twitter {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-twitter:before {\n  content: "\\f11a";\n}\n\n.vjs-icon-tumblr {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-tumblr:before {\n  content: "\\f11b";\n}\n\n.vjs-icon-pinterest {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-pinterest:before {\n  content: "\\f11c";\n}\n\n.vjs-icon-audio-description, .video-js .vjs-descriptions-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-audio-description:before, .video-js .vjs-descriptions-button .vjs-icon-placeholder:before {\n  content: "\\f11d";\n}\n\n.vjs-icon-audio, .video-js .vjs-audio-button .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-audio:before, .video-js .vjs-audio-button .vjs-icon-placeholder:before {\n  content: "\\f11e";\n}\n\n.vjs-icon-next-item {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-next-item:before {\n  content: "\\f11f";\n}\n\n.vjs-icon-previous-item {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-previous-item:before {\n  content: "\\f120";\n}\n\n.vjs-icon-picture-in-picture-enter, .video-js .vjs-picture-in-picture-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-picture-in-picture-enter:before, .video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before {\n  content: "\\f121";\n}\n\n.vjs-icon-picture-in-picture-exit, .video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder {\n  font-family: VideoJS;\n  font-weight: normal;\n  font-style: normal;\n}\n.vjs-icon-picture-in-picture-exit:before, .video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before {\n  content: "\\f122";\n}\n\n.video-js {\n  display: block;\n  vertical-align: top;\n  box-sizing: border-box;\n  color: #fff;\n  background-color: #000;\n  position: relative;\n  padding: 0;\n  font-size: 10px;\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  font-family: Arial, Helvetica, sans-serif;\n  word-break: initial;\n}\n.video-js:-moz-full-screen {\n  position: absolute;\n}\n.video-js:-webkit-full-screen {\n  width: 100% !important;\n  height: 100% !important;\n}\n\n.video-js[tabindex="-1"] {\n  outline: none;\n}\n\n.video-js *,\n.video-js *:before,\n.video-js *:after {\n  box-sizing: inherit;\n}\n\n.video-js ul {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  list-style-position: outside;\n  margin-left: 0;\n  margin-right: 0;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.video-js.vjs-fluid,\n.video-js.vjs-16-9,\n.video-js.vjs-4-3 {\n  width: 100%;\n  max-width: 100%;\n  height: 0;\n}\n\n.video-js.vjs-16-9 {\n  padding-top: 56.25%;\n}\n\n.video-js.vjs-4-3 {\n  padding-top: 75%;\n}\n\n.video-js.vjs-fill {\n  width: 100%;\n  height: 100%;\n}\n\n.video-js .vjs-tech {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\nbody.vjs-full-window {\n  padding: 0;\n  margin: 0;\n  height: 100%;\n}\n\n.vjs-full-window .video-js.vjs-fullscreen {\n  position: fixed;\n  overflow: hidden;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.video-js.vjs-fullscreen {\n  width: 100% !important;\n  height: 100% !important;\n  padding-top: 0 !important;\n}\n\n.video-js.vjs-fullscreen.vjs-user-inactive {\n  cursor: none;\n}\n\n.vjs-hidden {\n  display: none !important;\n}\n\n.vjs-disabled {\n  opacity: 0.5;\n  cursor: default;\n}\n\n.video-js .vjs-offscreen {\n  height: 1px;\n  left: -9999px;\n  position: absolute;\n  top: 0;\n  width: 1px;\n}\n\n.vjs-lock-showing {\n  display: block !important;\n  opacity: 1;\n  visibility: visible;\n}\n\n.vjs-no-js {\n  padding: 20px;\n  color: #fff;\n  background-color: #000;\n  font-size: 18px;\n  font-family: Arial, Helvetica, sans-serif;\n  text-align: center;\n  width: 300px;\n  height: 150px;\n  margin: 0px auto;\n}\n\n.vjs-no-js a,\n.vjs-no-js a:visited {\n  color: #66A8CC;\n}\n\n.video-js .vjs-big-play-button {\n  font-size: 3em;\n  line-height: 1.5em;\n  height: 1.63332em;\n  width: 3em;\n  display: block;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  padding: 0;\n  cursor: pointer;\n  opacity: 1;\n  border: 0.06666em solid #fff;\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n  border-radius: 0.3em;\n  transition: all 0.4s;\n}\n.vjs-big-play-centered .vjs-big-play-button {\n  top: 50%;\n  left: 50%;\n  margin-top: -0.81666em;\n  margin-left: -1.5em;\n}\n\n.video-js:hover .vjs-big-play-button,\n.video-js .vjs-big-play-button:focus {\n  border-color: #fff;\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, 0.5);\n  transition: all 0s;\n}\n\n.vjs-controls-disabled .vjs-big-play-button,\n.vjs-has-started .vjs-big-play-button,\n.vjs-using-native-controls .vjs-big-play-button,\n.vjs-error .vjs-big-play-button {\n  display: none;\n}\n\n.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button {\n  display: block;\n}\n\n.video-js button {\n  background: none;\n  border: none;\n  color: inherit;\n  display: inline-block;\n  font-size: inherit;\n  line-height: inherit;\n  text-transform: none;\n  text-decoration: none;\n  transition: none;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n\n.vjs-control .vjs-button {\n  width: 100%;\n  height: 100%;\n}\n\n.video-js .vjs-control.vjs-close-button {\n  cursor: pointer;\n  height: 3em;\n  position: absolute;\n  right: 0;\n  top: 0.5em;\n  z-index: 2;\n}\n.video-js .vjs-modal-dialog {\n  background: rgba(0, 0, 0, 0.8);\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.8), rgba(255, 255, 255, 0));\n  overflow: auto;\n}\n\n.video-js .vjs-modal-dialog > * {\n  box-sizing: border-box;\n}\n\n.vjs-modal-dialog .vjs-modal-dialog-content {\n  font-size: 1.2em;\n  line-height: 1.5;\n  padding: 20px 24px;\n  z-index: 1;\n}\n\n.vjs-menu-button {\n  cursor: pointer;\n}\n\n.vjs-menu-button.vjs-disabled {\n  cursor: default;\n}\n\n.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu {\n  display: none;\n}\n\n.vjs-menu .vjs-menu-content {\n  display: block;\n  padding: 0;\n  margin: 0;\n  font-family: Arial, Helvetica, sans-serif;\n  overflow: auto;\n}\n\n.vjs-menu .vjs-menu-content > * {\n  box-sizing: border-box;\n}\n\n.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu {\n  display: none;\n}\n\n.vjs-menu li {\n  list-style: none;\n  margin: 0;\n  padding: 0.2em 0;\n  line-height: 1.4em;\n  font-size: 1.2em;\n  text-align: center;\n  text-transform: lowercase;\n}\n\n.vjs-menu li.vjs-menu-item:focus,\n.vjs-menu li.vjs-menu-item:hover,\n.js-focus-visible .vjs-menu li.vjs-menu-item:hover {\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, 0.5);\n}\n\n.vjs-menu li.vjs-selected,\n.vjs-menu li.vjs-selected:focus,\n.vjs-menu li.vjs-selected:hover,\n.js-focus-visible .vjs-menu li.vjs-selected:hover {\n  background-color: #fff;\n  color: #2B333F;\n}\n\n.vjs-menu li.vjs-menu-title {\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 1em;\n  line-height: 2em;\n  padding: 0;\n  margin: 0 0 0.3em 0;\n  font-weight: bold;\n  cursor: default;\n}\n\n.vjs-menu-button-popup .vjs-menu {\n  display: none;\n  position: absolute;\n  bottom: 0;\n  width: 10em;\n  left: -3em;\n  height: 0em;\n  margin-bottom: 1.5em;\n  border-top-color: rgba(43, 51, 63, 0.7);\n}\n\n.vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n  position: absolute;\n  width: 100%;\n  bottom: 1.5em;\n  max-height: 15em;\n}\n\n.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,\n.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 5em;\n}\n\n.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 10em;\n}\n\n.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 14em;\n}\n\n.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,\n.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,\n.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content {\n  max-height: 25em;\n}\n\n.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu,\n.vjs-menu-button-popup .vjs-menu.vjs-lock-showing {\n  display: block;\n}\n\n.video-js .vjs-menu-button-inline {\n  transition: all 0.4s;\n  overflow: hidden;\n}\n\n.video-js .vjs-menu-button-inline:before {\n  width: 2.222222222em;\n}\n\n.video-js .vjs-menu-button-inline:hover,\n.video-js .vjs-menu-button-inline:focus,\n.video-js .vjs-menu-button-inline.vjs-slider-active,\n.video-js.vjs-no-flex .vjs-menu-button-inline {\n  width: 12em;\n}\n\n.vjs-menu-button-inline .vjs-menu {\n  opacity: 0;\n  height: 100%;\n  width: auto;\n  position: absolute;\n  left: 4em;\n  top: 0;\n  padding: 0;\n  margin: 0;\n  transition: all 0.4s;\n}\n\n.vjs-menu-button-inline:hover .vjs-menu,\n.vjs-menu-button-inline:focus .vjs-menu,\n.vjs-menu-button-inline.vjs-slider-active .vjs-menu {\n  display: block;\n  opacity: 1;\n}\n\n.vjs-no-flex .vjs-menu-button-inline .vjs-menu {\n  display: block;\n  opacity: 1;\n  position: relative;\n  width: auto;\n}\n\n.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,\n.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu {\n  width: auto;\n}\n\n.vjs-menu-button-inline .vjs-menu-content {\n  width: auto;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n}\n\n.video-js .vjs-control-bar {\n  display: none;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 3em;\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n}\n\n.vjs-has-started .vjs-control-bar {\n  display: flex;\n  visibility: visible;\n  opacity: 1;\n  transition: visibility 0.1s, opacity 0.1s;\n}\n\n.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  visibility: visible;\n  opacity: 0;\n  transition: visibility 1s, opacity 1s;\n}\n\n.vjs-controls-disabled .vjs-control-bar,\n.vjs-using-native-controls .vjs-control-bar,\n.vjs-error .vjs-control-bar {\n  display: none !important;\n}\n\n.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar {\n  opacity: 1;\n  visibility: visible;\n}\n\n.vjs-has-started.vjs-no-flex .vjs-control-bar {\n  display: table;\n}\n\n.video-js .vjs-control {\n  position: relative;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  width: 4em;\n  flex: none;\n}\n\n.vjs-button > .vjs-icon-placeholder:before {\n  font-size: 1.8em;\n  line-height: 1.67;\n}\n\n.video-js .vjs-control:focus:before,\n.video-js .vjs-control:hover:before,\n.video-js .vjs-control:focus {\n  text-shadow: 0em 0em 1em white;\n}\n\n.video-js .vjs-control-text {\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.vjs-no-flex .vjs-control {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.video-js .vjs-custom-control-spacer {\n  display: none;\n}\n\n.video-js .vjs-progress-control {\n  cursor: pointer;\n  flex: auto;\n  display: flex;\n  align-items: center;\n  min-width: 4em;\n  touch-action: none;\n}\n\n.video-js .vjs-progress-control.disabled {\n  cursor: default;\n}\n\n.vjs-live .vjs-progress-control {\n  display: none;\n}\n\n.vjs-liveui .vjs-progress-control {\n  display: flex;\n  align-items: center;\n}\n\n.vjs-no-flex .vjs-progress-control {\n  width: auto;\n}\n\n.video-js .vjs-progress-holder {\n  flex: auto;\n  transition: all 0.2s;\n  height: 0.3em;\n}\n\n.video-js .vjs-progress-control .vjs-progress-holder {\n  margin: 0 10px;\n}\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder {\n  font-size: 1.6666666667em;\n}\n\n.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled {\n  font-size: 1em;\n}\n\n.video-js .vjs-progress-holder .vjs-play-progress,\n.video-js .vjs-progress-holder .vjs-load-progress,\n.video-js .vjs-progress-holder .vjs-load-progress div {\n  position: absolute;\n  display: block;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  width: 0;\n}\n\n.video-js .vjs-play-progress {\n  background-color: #fff;\n}\n.video-js .vjs-play-progress:before {\n  font-size: 0.9em;\n  position: absolute;\n  right: -0.5em;\n  top: -0.3333333333em;\n  z-index: 1;\n}\n\n.video-js .vjs-load-progress {\n  background: rgba(115, 133, 159, 0.5);\n}\n\n.video-js .vjs-load-progress div {\n  background: rgba(115, 133, 159, 0.75);\n}\n\n.video-js .vjs-time-tooltip {\n  background-color: #fff;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 0.3em;\n  color: #000;\n  float: right;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 1em;\n  padding: 6px 8px 8px 8px;\n  pointer-events: none;\n  position: absolute;\n  top: -3.4em;\n  visibility: hidden;\n  z-index: 1;\n}\n\n.video-js .vjs-progress-holder:focus .vjs-time-tooltip {\n  display: none;\n}\n\n.video-js .vjs-progress-control:hover .vjs-time-tooltip,\n.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip {\n  display: block;\n  font-size: 0.6em;\n  visibility: visible;\n}\n\n.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip {\n  font-size: 1em;\n}\n\n.video-js .vjs-progress-control .vjs-mouse-display {\n  display: none;\n  position: absolute;\n  width: 1px;\n  height: 100%;\n  background-color: #000;\n  z-index: 1;\n}\n\n.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  z-index: 0;\n}\n\n.video-js .vjs-progress-control:hover .vjs-mouse-display {\n  display: block;\n}\n\n.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 1s, opacity 1s;\n}\n\n.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display {\n  display: none;\n}\n\n.vjs-mouse-display .vjs-time-tooltip {\n  color: #fff;\n  background-color: #000;\n  background-color: rgba(0, 0, 0, 0.8);\n}\n\n.video-js .vjs-slider {\n  position: relative;\n  cursor: pointer;\n  padding: 0;\n  margin: 0 0.45em 0 0.45em;\n  /* iOS Safari */\n  -webkit-touch-callout: none;\n  /* Safari */\n  -webkit-user-select: none;\n  /* Konqueror HTML */\n  /* Firefox */\n  -moz-user-select: none;\n  /* Internet Explorer/Edge */\n  -ms-user-select: none;\n  /* Non-prefixed version, currently supported by Chrome and Opera */\n  user-select: none;\n  background-color: #73859f;\n  background-color: rgba(115, 133, 159, 0.5);\n}\n\n.video-js .vjs-slider.disabled {\n  cursor: default;\n}\n\n.video-js .vjs-slider:focus {\n  text-shadow: 0em 0em 1em white;\n  box-shadow: 0 0 1em #fff;\n}\n\n.video-js .vjs-mute-control {\n  cursor: pointer;\n  flex: none;\n}\n.video-js .vjs-volume-control {\n  cursor: pointer;\n  margin-right: 1em;\n  display: flex;\n}\n\n.video-js .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control {\n  visibility: visible;\n  opacity: 0;\n  width: 1px;\n  height: 1px;\n  margin-left: -1px;\n}\n\n.video-js .vjs-volume-panel {\n  transition: width 1s;\n}\n.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control, .video-js .vjs-volume-panel:active .vjs-volume-control, .video-js .vjs-volume-panel:focus .vjs-volume-control, .video-js .vjs-volume-panel .vjs-volume-control:active, .video-js .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control, .video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active {\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  transition: visibility 0.1s, opacity 0.1s, height 0.1s, width 0.1s, left 0s, top 0s;\n}\n.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal, .video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal, .video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal, .video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal, .video-js .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control.vjs-volume-horizontal, .video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal {\n  width: 5em;\n  height: 3em;\n  margin-right: 0;\n}\n.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical, .video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical, .video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical, .video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical, .video-js .vjs-volume-panel.vjs-hover .vjs-mute-control ~ .vjs-volume-control.vjs-volume-vertical, .video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical {\n  left: -3.5em;\n  transition: left 0s;\n}\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover, .video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active, .video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active {\n  width: 10em;\n  transition: width 0.1s;\n}\n.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only {\n  width: 4em;\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  height: 8em;\n  width: 3em;\n  left: -3000em;\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s;\n}\n\n.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  transition: visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s;\n}\n\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal {\n  width: 5em;\n  height: 3em;\n  visibility: visible;\n  opacity: 1;\n  position: relative;\n  transition: none;\n}\n\n.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,\n.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical {\n  position: absolute;\n  bottom: 3em;\n  left: 0.5em;\n}\n\n.video-js .vjs-volume-panel {\n  display: flex;\n}\n\n.video-js .vjs-volume-bar {\n  margin: 1.35em 0.45em;\n}\n\n.vjs-volume-bar.vjs-slider-horizontal {\n  width: 5em;\n  height: 0.3em;\n}\n\n.vjs-volume-bar.vjs-slider-vertical {\n  width: 0.3em;\n  height: 5em;\n  margin: 1.35em auto;\n}\n\n.video-js .vjs-volume-level {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background-color: #fff;\n}\n.video-js .vjs-volume-level:before {\n  position: absolute;\n  font-size: 0.9em;\n}\n\n.vjs-slider-vertical .vjs-volume-level {\n  width: 0.3em;\n}\n.vjs-slider-vertical .vjs-volume-level:before {\n  top: -0.5em;\n  left: -0.3em;\n}\n\n.vjs-slider-horizontal .vjs-volume-level {\n  height: 0.3em;\n}\n.vjs-slider-horizontal .vjs-volume-level:before {\n  top: -0.3em;\n  right: -0.5em;\n}\n\n.video-js .vjs-volume-panel.vjs-volume-panel-vertical {\n  width: 4em;\n}\n\n.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level {\n  height: 100%;\n}\n\n.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level {\n  width: 100%;\n}\n\n.video-js .vjs-volume-vertical {\n  width: 3em;\n  height: 8em;\n  bottom: 8em;\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.7);\n}\n\n.video-js .vjs-volume-horizontal .vjs-menu {\n  left: -2em;\n}\n\n.vjs-poster {\n  display: inline-block;\n  vertical-align: middle;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: contain;\n  background-color: #000000;\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n}\n\n.vjs-has-started .vjs-poster {\n  display: none;\n}\n\n.vjs-audio.vjs-has-started .vjs-poster {\n  display: block;\n}\n\n.vjs-using-native-controls .vjs-poster {\n  display: none;\n}\n\n.video-js .vjs-live-control {\n  display: flex;\n  align-items: flex-start;\n  flex: auto;\n  font-size: 1em;\n  line-height: 3em;\n}\n\n.vjs-no-flex .vjs-live-control {\n  display: table-cell;\n  width: auto;\n  text-align: left;\n}\n\n.video-js:not(.vjs-live) .vjs-live-control,\n.video-js.vjs-liveui .vjs-live-control {\n  display: none;\n}\n\n.video-js .vjs-seek-to-live-control {\n  cursor: pointer;\n  flex: none;\n  display: inline-flex;\n  height: 100%;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n  font-size: 1em;\n  line-height: 3em;\n  width: auto;\n  min-width: 4em;\n}\n\n.vjs-no-flex .vjs-seek-to-live-control {\n  display: table-cell;\n  width: auto;\n  text-align: left;\n}\n\n.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,\n.video-js:not(.vjs-live) .vjs-seek-to-live-control {\n  display: none;\n}\n\n.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge {\n  cursor: auto;\n}\n\n.vjs-seek-to-live-control .vjs-icon-placeholder {\n  margin-right: 0.5em;\n  color: #888;\n}\n\n.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder {\n  color: red;\n}\n\n.video-js .vjs-time-control {\n  flex: none;\n  font-size: 1em;\n  line-height: 3em;\n  min-width: 2em;\n  width: auto;\n  padding-left: 1em;\n  padding-right: 1em;\n}\n\n.vjs-live .vjs-time-control {\n  display: none;\n}\n\n.video-js .vjs-current-time,\n.vjs-no-flex .vjs-current-time {\n  display: none;\n}\n\n.video-js .vjs-duration,\n.vjs-no-flex .vjs-duration {\n  display: none;\n}\n\n.vjs-time-divider {\n  display: none;\n  line-height: 3em;\n}\n\n.vjs-live .vjs-time-divider {\n  display: none;\n}\n\n.video-js .vjs-play-control {\n  cursor: pointer;\n}\n\n.video-js .vjs-play-control .vjs-icon-placeholder {\n  flex: none;\n}\n\n.vjs-text-track-display {\n  position: absolute;\n  bottom: 3em;\n  left: 0;\n  right: 0;\n  top: 0;\n  pointer-events: none;\n}\n\n.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display {\n  bottom: 1em;\n}\n\n.video-js .vjs-text-track {\n  font-size: 1.4em;\n  text-align: center;\n  margin-bottom: 0.1em;\n}\n\n.vjs-subtitles {\n  color: #fff;\n}\n\n.vjs-captions {\n  color: #fc6;\n}\n\n.vjs-tt-cue {\n  display: block;\n}\n\nvideo::-webkit-media-text-track-display {\n  transform: translateY(-3em);\n}\n\n.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display {\n  transform: translateY(-1.5em);\n}\n\n.video-js .vjs-picture-in-picture-control {\n  cursor: pointer;\n  flex: none;\n}\n.video-js .vjs-fullscreen-control {\n  cursor: pointer;\n  flex: none;\n}\n.vjs-playback-rate > .vjs-menu-button,\n.vjs-playback-rate .vjs-playback-rate-value {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.vjs-playback-rate .vjs-playback-rate-value {\n  pointer-events: none;\n  font-size: 1.5em;\n  line-height: 2;\n  text-align: center;\n}\n\n.vjs-playback-rate .vjs-menu {\n  width: 4em;\n  left: 0em;\n}\n\n.vjs-error .vjs-error-display .vjs-modal-dialog-content {\n  font-size: 1.4em;\n  text-align: center;\n}\n\n.vjs-error .vjs-error-display:before {\n  color: #fff;\n  content: "X";\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 4em;\n  left: 0;\n  line-height: 1;\n  margin-top: -0.5em;\n  position: absolute;\n  text-shadow: 0.05em 0.05em 0.1em #000;\n  text-align: center;\n  top: 50%;\n  vertical-align: middle;\n  width: 100%;\n}\n\n.vjs-loading-spinner {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -25px 0 0 -25px;\n  opacity: 0.85;\n  text-align: left;\n  border: 6px solid rgba(43, 51, 63, 0.7);\n  box-sizing: border-box;\n  background-clip: padding-box;\n  width: 50px;\n  height: 50px;\n  border-radius: 25px;\n  visibility: hidden;\n}\n\n.vjs-seeking .vjs-loading-spinner,\n.vjs-waiting .vjs-loading-spinner {\n  display: block;\n  -webkit-animation: vjs-spinner-show 0s linear 0.3s forwards;\n          animation: vjs-spinner-show 0s linear 0.3s forwards;\n}\n\n.vjs-loading-spinner:before,\n.vjs-loading-spinner:after {\n  content: "";\n  position: absolute;\n  margin: -6px;\n  box-sizing: inherit;\n  width: inherit;\n  height: inherit;\n  border-radius: inherit;\n  opacity: 1;\n  border: inherit;\n  border-color: transparent;\n  border-top-color: white;\n}\n\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:after {\n  -webkit-animation: vjs-spinner-spin 1.1s cubic-bezier(0.6, 0.2, 0, 0.8) infinite, vjs-spinner-fade 1.1s linear infinite;\n  animation: vjs-spinner-spin 1.1s cubic-bezier(0.6, 0.2, 0, 0.8) infinite, vjs-spinner-fade 1.1s linear infinite;\n}\n\n.vjs-seeking .vjs-loading-spinner:before,\n.vjs-waiting .vjs-loading-spinner:before {\n  border-top-color: white;\n}\n\n.vjs-seeking .vjs-loading-spinner:after,\n.vjs-waiting .vjs-loading-spinner:after {\n  border-top-color: white;\n  -webkit-animation-delay: 0.44s;\n  animation-delay: 0.44s;\n}\n\n@keyframes vjs-spinner-show {\n  to {\n    visibility: visible;\n  }\n}\n@-webkit-keyframes vjs-spinner-show {\n  to {\n    visibility: visible;\n  }\n}\n@keyframes vjs-spinner-spin {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes vjs-spinner-spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: #73859f;\n  }\n  20% {\n    border-top-color: #73859f;\n  }\n  35% {\n    border-top-color: white;\n  }\n  60% {\n    border-top-color: #73859f;\n  }\n  100% {\n    border-top-color: #73859f;\n  }\n}\n@-webkit-keyframes vjs-spinner-fade {\n  0% {\n    border-top-color: #73859f;\n  }\n  20% {\n    border-top-color: #73859f;\n  }\n  35% {\n    border-top-color: white;\n  }\n  60% {\n    border-top-color: #73859f;\n  }\n  100% {\n    border-top-color: #73859f;\n  }\n}\n.vjs-chapters-button .vjs-menu ul {\n  width: 24em;\n}\n\n.video-js .vjs-subs-caps-button + .vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder {\n  vertical-align: middle;\n  display: inline-block;\n  margin-bottom: -0.1em;\n}\n\n.video-js .vjs-subs-caps-button + .vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  content: "";\n  font-size: 1.5em;\n  line-height: inherit;\n}\n\n.video-js .vjs-audio-button + .vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder {\n  vertical-align: middle;\n  display: inline-block;\n  margin-bottom: -0.1em;\n}\n\n.video-js .vjs-audio-button + .vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before {\n  font-family: VideoJS;\n  content: " ";\n  font-size: 1.5em;\n  line-height: inherit;\n}\n\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-current-time,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-time-divider,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-duration,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-remaining-time,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-playback-rate,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-chapters-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-descriptions-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-captions-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-subtitles-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-audio-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-control, .video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-current-time,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-time-divider,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-duration,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-remaining-time,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-playback-rate,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-chapters-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-descriptions-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-captions-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-subtitles-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-audio-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-control, .video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-current-time,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-time-divider,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-duration,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-remaining-time,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-playback-rate,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-chapters-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-descriptions-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-captions-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subtitles-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-audio-button,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-control {\n  display: none;\n}\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,\n.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active, .video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active, .video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,\n.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active {\n  width: auto;\n  width: initial;\n}\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-liveui) .vjs-subs-caps-button, .video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-live) .vjs-subs-caps-button, .video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subs-caps-button {\n  display: none;\n}\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-custom-control-spacer, .video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-custom-control-spacer {\n  flex: auto;\n  display: block;\n}\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui.vjs-no-flex .vjs-custom-control-spacer, .video-js:not(.vjs-fullscreen).vjs-layout-tiny.vjs-no-flex .vjs-custom-control-spacer {\n  width: auto;\n}\n.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-progress-control, .video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-progress-control {\n  display: none;\n}\n\n.vjs-modal-dialog.vjs-text-track-settings {\n  background-color: #2B333F;\n  background-color: rgba(43, 51, 63, 0.75);\n  color: #fff;\n  height: 70%;\n}\n\n.vjs-text-track-settings .vjs-modal-dialog-content {\n  display: table;\n}\n\n.vjs-text-track-settings .vjs-track-settings-colors,\n.vjs-text-track-settings .vjs-track-settings-font,\n.vjs-text-track-settings .vjs-track-settings-controls {\n  display: table-cell;\n}\n\n.vjs-text-track-settings .vjs-track-settings-controls {\n  text-align: right;\n  vertical-align: bottom;\n}\n\n@supports (display: grid) {\n  .vjs-text-track-settings .vjs-modal-dialog-content {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 1fr;\n    padding: 20px 24px 0px 24px;\n  }\n\n  .vjs-track-settings-controls .vjs-default-button {\n    margin-bottom: 20px;\n  }\n\n  .vjs-text-track-settings .vjs-track-settings-controls {\n    grid-column: 1/-1;\n  }\n\n  .vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,\n.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content,\n.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content {\n    grid-template-columns: 1fr;\n  }\n}\n.vjs-track-setting > select {\n  margin-right: 1em;\n  margin-bottom: 0.5em;\n}\n\n.vjs-text-track-settings fieldset {\n  margin: 5px;\n  padding: 3px;\n  border: none;\n}\n\n.vjs-text-track-settings fieldset span {\n  display: inline-block;\n}\n\n.vjs-text-track-settings fieldset span > select {\n  max-width: 7.3em;\n}\n\n.vjs-text-track-settings legend {\n  color: #fff;\n  margin: 0 0 5px 0;\n}\n\n.vjs-text-track-settings .vjs-label {\n  position: absolute;\n  clip: rect(1px 1px 1px 1px);\n  clip: rect(1px, 1px, 1px, 1px);\n  display: block;\n  margin: 0 0 5px 0;\n  padding: 0;\n  border: 0;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n}\n\n.vjs-track-settings-controls button:focus,\n.vjs-track-settings-controls button:active {\n  outline-style: solid;\n  outline-width: medium;\n  background-image: linear-gradient(0deg, #fff 88%, #73859f 100%);\n}\n\n.vjs-track-settings-controls button:hover {\n  color: rgba(43, 51, 63, 0.75);\n}\n\n.vjs-track-settings-controls button {\n  background-color: #fff;\n  background-image: linear-gradient(-180deg, #fff 88%, #73859f 100%);\n  color: #2B333F;\n  cursor: pointer;\n  border-radius: 2px;\n}\n\n.vjs-track-settings-controls .vjs-default-button {\n  margin-right: 1em;\n}\n\n@media print {\n  .video-js > *:not(.vjs-tech):not(.vjs-poster) {\n    visibility: hidden;\n  }\n}\n.vjs-resize-manager {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n  z-index: -1000;\n}\n\n.js-focus-visible .video-js *:focus:not(.focus-visible) {\n  outline: none;\n  background: none;\n}\n\n.video-js *:focus:not(:focus-visible),\n.video-js .vjs-menu *:focus:not(:focus-visible) {\n  outline: none;\n  background: none;\n}\n',""])},LToI:function(e,t,n){"use strict";var o=n("0h2I"),r=n("RN+F"),i=n("Yjhd"),s=n("76Kh"),a=n("1grR"),l=n("ymJf"),c=n("3vk+"),u=n("9w3v");function p(){}p.prototype.ViewTemplate="OpenPgpFilesWebclient_ButtonsView",p.prototype.useFilesViewData=function(e){this.isCreateSecureLinkAllowed=o.computed((function(){var e=this.selector.listCheckedAndSelected(),t=1===e.length?e[0]:null;return!this.isZipFolder()&&(!this.sharedParentFolder()||this.sharedParentFolder().sharedWithMeAccessReshare())&&this.allSelectedFilesReady()&&t&&!t.bIsLink&&(!t.sharedWithMe()||t.sharedWithMeAccessReshare())}),e),this.createSecureLinkCommand=i.createCommand(e,this.createSecureLink,this.isCreateSecureLinkAllowed)},p.prototype.createSecureLink=function(){var e=this.selector.itemSelected(),t=e&&e.oExtendedProps||{};e.published()?s.showPopup(c,[e]):e.IS_FILE&&e.bIsSecure()&&!t.ParanoidKey?s.showPopup(a,[r.i18n("OPENPGPFILESWEBCLIENT/INFO_SHARING_NOT_SUPPORTED"),null,r.i18n("OPENPGPFILESWEBCLIENT/HEADING_SEND_ENCRYPTED_FILE")]):t.InitializationVector?s.showPopup(l,[e,this]):s.showPopup(u,[e,this])},e.exports=new p},LU2F:function(e,t,n){"use strict";var o=n("xG9w"),r=n("0h2I"),i=n("czxF");function s(){i.call(this),this.keyPassword=r.observable(""),this.fOnPasswordEnterCallback=null,this.fOnCancellCallback=null}o.extendOwn(s.prototype,i.prototype),s.prototype.PopupTemplate="CoreParanoidEncryptionWebclientPlugin_DecryptKeyPasswordPopup",s.prototype.onOpen=function(e,t){this.fOnPasswordEnterCallback=e,this.fOnCancellCallback=t},s.prototype.decryptKey=function(){o.isFunction(this.fOnPasswordEnterCallback)&&this.fOnPasswordEnterCallback(this.keyPassword()),this.closePopup()},s.prototype.cancelPopup=function(){o.isFunction(this.fOnCancellCallback)&&this.fOnCancellCallback(),this.closePopup()},s.prototype.onShow=function(){this.keyPassword("")},e.exports=new s},Pg7U:function(e,t,n){"use strict";var o=n("xG9w"),r=n("0h2I"),i=n("wd/R"),s=n("RN+F"),a=n("AFLV"),l=n("Yjhd"),c=n("IAk5"),u=n("ZCBP"),p=n("cGGv"),h=n("5hOJ"),v=n("76Kh"),d=n("42lS"),f=n("oDKb"),m=window.Enums;function y(e,t){this.oParent=a.pObject(t),this.IS_FILE=!0,this.storageType=r.observable(a.pString(e.Type)),this.sLastModified=y.parseLastModified(e.LastModified),this.iLastModified=a.pInt(e.LastModified),this.path=r.observable(a.pString(e.Path)),this.fullPath=r.observable(a.pString(e.FullPath)),this.selected=r.observable(!1),this.checked=r.observable(!1),this.bIsLink=!!e.IsLink,this.sLinkType=this.bIsLink?a.pString(e.LinkType):"",this.sLinkUrl=this.bIsLink?a.pString(e.LinkUrl):"",this.sThumbnailExternalLink=this.bIsLink?a.pString(e.ThumbnailUrl):"",this.deleted=r.observable(!1),this.recivedAnim=r.observable(!1).extend({autoResetToFalse:500}),this.published=r.observable(!1),this.sOwnerName=a.pString(e.Owner),this.sInitiator=a.pString(e.Initiator,this.sOwnerName),p.call(this),this.oExtendedProps=a.pObject(e.ExtendedProps),this.sharedWithMeAccessReshare=r.observable(!1),this.sharedWithMeAccessWrite=r.observable(!1),this.sharedWithMe=r.observable(!1),this.sharedWithOthers=r.observable(!1),this.parseExtendedProps(),this.displayName=r.computed((function(){return this.storageType()===m.FileStorageType.Shared&&this.oParent.sharedParentFolder&&!this.oParent.sharedParentFolder()?this.fullPath().replace(/^\//,""):this.fileName()}),this),this.content=r.observable(""),this.thumbUrlInQueueSubscribtion.dispose(),this.thumbUrlInQueue.subscribe((function(){""!==this.sThumbnailExternalLink?this.thumbnailSrc(this.sThumbnailExternalLink):this.bIsLink||this.getInThumbQueue()}),this),this.visibleCancelButton=r.computed((function(){return this.visibleProgress()&&100!==this.progressPercent()}),this),this.progressText=r.computed((function(){return s.i18n("COREWEBCLIENT/LABEL_UPLOADING_PERCENT",{PERCENT:this.progressPercent()})}),this),this.oActionsData.list={Text:s.i18n("COREWEBCLIENT/ACTION_VIEW_FILE"),Handler:o.bind((function(){c.broadcastEvent("Files::ShowList",{Item:this})}),this)},this.oActionsData.open={Text:s.i18n("COREWEBCLIENT/ACTION_OPEN_LINK"),Handler:o.bind(this.openLink,this)},this.iconAction(""),this.sHeaderText=o.bind((function(){if(this.sharedWithMe()&&this.sInitiator)return s.i18n("FILESWEBCLIENT/INFO_SHARED_BY",{OWNER:this.sInitiator});if(this.sLastModified){var e=""!==this.sOwnerName?"FILESWEBCLIENT/INFO_OWNER_AND_DATA":"FILESWEBCLIENT/INFO_DATA";return s.i18n(e,{OWNER:this.sOwnerName,LASTMODIFIED:this.sLastModified})}return""}),this)(),this.type=this.storageType,this.canShare=r.computed((function(){return this.storageType()===m.FileStorageType.Personal||this.storageType()===m.FileStorageType.Corporate}),this),this.sHtmlEmbed=a.pString(e.OembedHtml),this.commonParseActions(e),this.cssClasses=r.computed((function(){var e=this.getCommonClasses();return this.allowDrag()&&e.push("dragHandle"),this.selected()&&e.push("selected"),this.checked()&&e.push("checked"),this.deleted()&&e.push("deleted"),this.allowPublicLink()&&this.published()&&e.push("published"),this.bIsLink&&e.push("aslink"),e.join(" ")}),this),this.parse(e,!!this.oParent.bInPopup)}o.extendOwn(y.prototype,p.prototype),o.extendOwn(y.prototype,f),y.parseLastModified=function(e){var t=new h;return e?(t.parse(e),t.getShortDate()):""},y.prepareLinkData=function(e,t){return{IsLink:!0,LinkType:e.LinkType,LinkUrl:t,Name:e.Name,Size:e.Size,ThumbnailUrl:e.Thumb}},y.prototype.parse=function(e,t){this.uploaded(!0),this.allowDrag(!t&&!c.isPublic()),this.allowUpload(!0),this.allowPublicLink(!0),this.allowActions(!t&&""!==this.fullPath()),this.fileName(a.pString(e.Name)),this.content(a.pString(e.Content)),this.id(a.pString(e.Id)),this.published(!!e.Published),this.size(a.pInt(e.Size)),this.hash(a.pString(e.Hash)),this.thumbUrlInQueue(""!==a.pString(e.ThumbnailUrl)?a.pString(e.ThumbnailUrl)+"/"+Math.random():""),this.mimeType(a.pString(e.ContentType)),this.bHasHtmlEmbed=!t&&""!==this.fullPath()&&"oembeded"===this.sLinkType,this.bHasHtmlEmbed&&this.iconAction("view"),this.isViewSupported()||this.bHasHtmlEmbed||this.actions(o.without(this.actions(),"view")),c.broadcastEvent("FilesWebclient::ParseFile::after",[this,e])},y.prepareUploadFileData=function(e,t,n,o){var r=e.FileName,s=l.getFileExtension(r),a=l.getFileNameWithoutExtension(r),u=0;for(""!==s&&(s="."+s);o(r);)r=a+" ("+u+")"+s,u++;return e.FileName=r,{Name:r,LastModified:i().unix(),Owner:c.getUserPublicId(),Path:t,FullPath:t+"/"+r,Type:n,ContentType:e.Type,Size:e.Size}},y.prototype.viewFile=function(e,t){t&&(t.ctrlKey||t.shiftKey)||(""!==this.sHtmlEmbed?v.showPopup(d,[this.sHtmlEmbed]):this.bIsLink?this.viewCommonFile(this.sLinkUrl):this.viewCommonFile())},y.prototype.openLink=function(){this.bIsLink&&u.openTab(this.sLinkUrl)},y.prototype.commonParseActions=function(e){o.each(e.Actions,(function(e,t){this.oActionsData[t]||(this.oActionsData[t]={});var n="";"download"!==t&&"view"!==t||(n="&"+l.getRandomHash()),this.oActionsData[t].Url=a.pString(e.url)+n,this.actions.push(t)}),this)},e.exports=y},QFUI:function(e,t,n){"use strict";var o,r,i=n("RN+F"),s=n("76Kh"),a=n("1grR"),l=n("hPb3"),c={};c.getDownloadLink=function(e,t,n){return t.length>0?"?/Download/"+e+"/DownloadFile/"+t+"/"+(n?"0/"+n:""):""},c.getIframeWrappwer=function(e,t){return"?/Raw/Iframe/"+e+"/"+window.encodeURIComponent(t)+"/"},c.thumbQueue=(o={},r={},function(e,t){t?!(e in r)||r[e]>0?(e in r||(r[e]=2,o[e]=[]),r[e]--,t(e)):o[e].push({imageSrc:e,imageSrcObserver:t}):o[e]&&o[e].length&&(o[e][0].imageSrcObserver(o[e][0].imageSrc),o[e].shift())}),c.showErrorIfAttachmentSizeLimit=function(e,t){var n=i.i18n("COREWEBCLIENT/ERROR_UPLOAD_SIZE_DETAILED",{FILENAME:e,MAXSIZE:i.getFriendlySize(l.AttachmentSizeLimit)});return l.AttachmentSizeLimit>0&&t>l.AttachmentSizeLimit&&(s.showPopup(a,[n]),!0)},e.exports=c},U1dG:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,s=Object.create(r.prototype),a=new A(o||[]);return i(s,"_invoke",{value:w(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=p;var v={};function d(){}function f(){}function m(){}var y={};u(y,a,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(S([])));b&&b!==t&&n.call(b,a)&&(y=b);var g=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var r;i(this,"_invoke",{value:function(i,s){function a(){return new t((function(r,a){!function r(i,s,a,l){var c=h(e[i],e,s);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(c.arg)}(i,s,r,a)}))}return r=r?r.then(a,a):a()}})}function w(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return x()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=h(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=h(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},j(P.prototype),u(P.prototype,l,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new P(p(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},e}function i(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))}}var a=n("xG9w"),l=n("0h2I"),c=n("wd/R"),u=n("OgeD"),p=n("RN+F"),h=n("1kFK"),v=n("SQrT"),d=n("+x5O"),f=n("xcwT"),m=u.run("OpenPgpWebclient","getOpenPgpEncryptor");function y(){switch(f.call(this,"OpenPgpFilesWebclient"),this.enteredPassword=l.observable(""),this.isDecryptionAvailable=l.observable(!1),this.isDecrypting=l.observable(!1),this.browserTitle=l.observable(p.i18n("OPENPGPFILESWEBCLIENT/HEADING_BROWSER_TAB")),this.subject=d.PublicFileData.Subject?d.PublicFileData.Subject:"",this.message=l.observable(""),this.data=d.PublicFileData.Data?d.PublicFileData.Data:"",this.encryptionMode=d.PublicFileData.PgpEncryptionMode?d.PublicFileData.PgpEncryptionMode:"",this.recipientEmail=d.PublicFileData.RecipientEmail?d.PublicFileData.RecipientEmail:"",this.ExpireDate=d.PublicFileData.ExpireDate?c.unix(d.PublicFileData.ExpireDate).format("YYYY-MM-DD HH:mm:ss"):"",this.ExpireDateMessage=p.i18n("OPENPGPFILESWEBCLIENT/HINT_MESSAGE_LIFETIME",{DATETIME:this.ExpireDate}),this.EerrorNoKeyMessage=p.i18n("OPENPGPFILESWEBCLIENT/ERROR_NO_KEY",{SYSNAME:d.ProductName}),this.isDecryptedSuccessfully=l.observable(!1),this.isShowNoKeyErrorMessage=l.observable(!1),this.encryptionMode){case Enums.EncryptionBasedOn.Key:this.passwordLabel=p.i18n("OPENPGPFILESWEBCLIENT/LABEL_ENTER_PASSPHRASE",{KEY:this.recipientEmail}),this.isDecryptionAvailable(!0);break;case Enums.EncryptionBasedOn.Password:this.passwordLabel=p.i18n("OPENPGPFILESWEBCLIENT/LABEL_ENTER_PASSWORD"),this.isDecryptionAvailable(!0);break;default:this.passwordLabel=""}}a.extendOwn(y.prototype,f.prototype),y.prototype.ViewTemplate="OpenPgpFilesWebclient_SelfDestructingEncryptedMessageView",y.prototype.ViewConstructorName="CSelfDestructingEncryptedMessageView",y.prototype.onShow=s(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.encryptionMode!==Enums.EncryptionBasedOn.Key){e.next=5;break}return e.next=3,m.oPromiseInitialised;case 3:this.isDecryptionAvailable(!m.findKeysByEmails([this.recipientEmail],!1).length<=0),this.isShowNoKeyErrorMessage(!this.isDecryptionAvailable());case 5:case"end":return e.stop()}}),e,this)}))),y.prototype.decryptMessage=s(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.encryptionMode!==Enums.EncryptionBasedOn.Password||""!==this.enteredPassword()){e.next=4;break}v.showError(p.i18n("OPENPGPFILESWEBCLIENT/ERROR_EMPTY_PASSWORD")),e.next=10;break;case 4:return this.isDecrypting(!0),e.next=7,m.decryptData(this.data,this.enteredPassword(),this.encryptionMode===Enums.EncryptionBasedOn.Password);case 7:t=e.sent,this.isDecrypting(!1),!t.result||t.hasErrors()?h.showPgpErrorByCode(t,Enums.PgpAction.DecryptVerify):(t.hasNotices()&&h.showPgpErrorByCode(t,Enums.PgpAction.DecryptVerify),this.message(t.result),this.isDecryptedSuccessfully(!0));case 10:case"end":return e.stop()}}),e,this)}))),e.exports=y},Xu4A:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,s=Object.create(r.prototype),a=new A(o||[]);return i(s,"_invoke",{value:w(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=p;var v={};function d(){}function f(){}function m(){}var y={};u(y,a,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(S([])));b&&b!==t&&n.call(b,a)&&(y=b);var g=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var r;i(this,"_invoke",{value:function(i,s){function a(){return new t((function(r,a){!function r(i,s,a,l){var c=h(e[i],e,s);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(c.arg)}(i,s,r,a)}))}return r=r?r.then(a,a):a()}})}function w(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return x()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=h(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=h(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},j(P.prototype),u(P.prototype,l,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new P(p(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},e}function i(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))}}var a=n("xG9w"),l=n("OgeD"),c=n("o0Bx"),u=n("JFZZ"),p=n("SQrT"),h=n("RN+F"),v=n("Yjhd"),d=n("1kFK"),f=n("zDR0"),m=n("wjWM"),y=l.run("OpenPgpWebclient","getOpenPgpEncryptor"),E={};E.processFileEncryption=function(){var e=s(r().mark((function e(t,n,o,i,s,a){var l,c,u,v,f,m,E,b,g,j,P,w,L;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.currentPath(),n.storageType(),l={result:!1},c=t&&t.oExtendedProps,!(u=c&&(t.sharedWithMe()?c.ParanoidKeyShared:c.ParanoidKey))){e.next=50;break}return v="",e.next=5,y.decryptData(u,v);case 5:if((f=e.sent).passphrase&&(v=f.passphrase,l.passphrase=v),!f.result){e.next=47;break}if(m=f.result,!o||s){e.next=15;break}return e.next=12,y.getPublicKeysByContactsAndEmails([i],[o]);case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0=[];case 16:if(E=e.t0,!a){e.next=23;break}return e.next=20,y.getCurrentUserPrivateKey();case 20:e.t1=e.sent,e.next=24;break;case 23:e.t1=null;case 24:return b=e.t1,e.next=27,y.encryptData(m,E,[b],s,a,v);case 27:if((g=e.sent).result&&!g.hasErrors()&&!g.hasNotices()){e.next=32;break}d.showPgpErrorByCode(g,Enums.PgpAction.Encrypt),e.next=45;break;case 32:if(j=g.result,P=j.data,w=j.password,!P){e.next=45;break}return e.next=36,this.updateFileExtendedProps(t,{ParanoidKeyPublic:P});case 36:if(!e.sent){e.next=44;break}return e.next=40,this.createPublicLink(t.storageType(),t.path(),t.fileName(),t.size(),!1,o,s?Enums.EncryptionBasedOn.Password:Enums.EncryptionBasedOn.Key);case 40:(L=e.sent).result?(n.refresh(),l.result=!0,l.password=w,l.link=L.link):p.showError(L.errorMessage||h.i18n("OPENPGPFILESWEBCLIENT/ERROR_CREATE_PUBLIC_LINK")),e.next=45;break;case 44:p.showError(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_UPDATING_KEY"));case 45:e.next=48;break;case 47:d.showPgpErrorByCode(f,Enums.PgpAction.DecryptVerify);case 48:e.next=51;break;case 50:p.showError("OPENPGPFILESWEBCLIENT/ERROR_READING_KEY");case 51:return e.abrupt("return",l);case 52:case"end":return e.stop()}}),e,this)})));return function(t,n,o,r,i,s){return e.apply(this,arguments)}}(),E.decryptFile=function(){var e=s(r().mark((function e(t,n,o,i,s,l){var c,u,v,f,m,E,b;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={result:!1},e.prev=1,e.next=4,y.decryptData(s,o,i);case 4:if((u=e.sent).result){e.next=9;break}d.showPgpErrorByCode(u,Enums.PgpAction.DecryptVerify),e.next=22;break;case 9:if(!u.validKeyNames||!u.validKeyNames.length){e.next=16;break}return e.next=12,y.getCurrentUserPrivateKey();case 12:(v=e.sent)&&u.validKeyNames.includes(v.getUser())||(f=h.i18n("OPENPGPFILESWEBCLIENT/REPORT_SUCCESSFULL_SIGNATURE_VERIFICATION")+u.validKeyNames.join(", ").replace(/</g,"&lt;").replace(/>/g,"&gt;"),p.showReport(f)),e.next=17;break;case 16:u.notices&&-1!==a.indexOf(u.notices,Enums.OpenPgpErrors.VerifyErrorNotice)&&p.showError(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_SIGNATURE_NOT_VERIFIED"));case 17:return m=u.result,e.next=20,this.decryptAsSingleChunk(t,m,l);case 20:(E=e.sent)&&(b=new Blob([E],{type:"octet/stream",lastModified:new Date}),c.result=!0,c.blob=b);case 22:return e.abrupt("return",c);case 25:return e.prev=25,e.t0=e.catch(1),e.abrupt("return",c);case 28:case"end":return e.stop()}}),e,this,[[1,25]])})));return function(t,n,o,r,i,s){return e.apply(this,arguments)}}(),E.createPublicLink=function(){var e=s(r().mark((function e(t,n,o,i){var s,a,l,p,v,d,f,m,E,b=this,g=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=g.length>4&&void 0!==g[4]&&g[4],a=g.length>5&&void 0!==g[5]?g[5]:"",l=g.length>6&&void 0!==g[6]?g[6]:"",p=g.length>7&&void 0!==g[7]?g[7]:0,v=g.length>8&&void 0!==g[8]&&g[8],d="",f={result:!1},m=s||l===Enums.EncryptionBasedOn.Password?y.generatePassword():"",E=new Promise((function(e,r){var d={Type:t,Path:n,Name:o,Size:i,IsFolder:v,RecipientEmail:a,PgpEncryptionMode:l,LifetimeHrs:p};s&&(d.Password=m),c.send("OpenPgpFilesWebclient","CreatePublicLink",d,(function(t,n){t.Result&&t.Result.link&&e(t.Result.link);var o=u.getErrorByCode(t,h.i18n("OPENPGPFILESWEBCLIENT/ERROR_PUBLIC_LINK_CREATION"));r(new Error(o))}),b)})),e.prev=9,e.next=12,E;case 12:d=e.sent,f.result=!0,f.link=d,f.password=m,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),e.t0&&e.t0.message&&(f.errorMessage=e.t0.message);case 21:return e.abrupt("return",f);case 22:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(t,n,o,r){return e.apply(this,arguments)}}(),E.getFileContentByUrl=function(){var e=s(r().mark((function e(t,n){var o,i,s,l,c,u,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!(o=e.sent).ok){e.next=23;break}i=o.body.getReader(),s=0,l=[];case 7:return e.next=10,i.read();case 10:if(c=e.sent,u=c.done,p=c.value,!u){e.next=15;break}return e.abrupt("break",20);case 15:s+=p.length,l.push(p),a.isFunction(n)&&n(s),e.next=7;break;case 20:return e.abrupt("return",new Blob(l));case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E.saveBlob=function(){var e=s(r().mark((function e(t,n){var o,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.navigator||!window.navigator.msSaveOrOpenBlob){e.next=3;break}return window.navigator.msSaveOrOpenBlob(t,n),e.abrupt("return");case 3:o=window.URL.createObjectURL(t),(i=document.createElement("a")).href=o,i.download=n,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E.processFileDecryption=function(){var e=s(r().mark((function e(t,n,o,i,s,a,l){var c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileContentByUrl(n);case 2:if(!((c=e.sent)instanceof Blob)){e.next=10;break}return e.next=6,this.decryptFile(c,o,i,s===Enums.EncryptionBasedOn.Password,a,l);case 6:(u=e.sent).result&&this.saveBlob(u.blob,t),e.next=11;break;case 10:p.showError(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_ON_DOWNLOAD"));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,o,r,i,s,a){return e.apply(this,arguments)}}(),E.getFileNameForDownload=function(e,t){var n="_"+t,o=v.getFileNameWithoutExtension(e).split(n),r="";if(o.length<=2)r=o.join("");else for(var i=0;i<o.length;i++)r+=o[i],r+=i<o.length-2?n:"";return r},E.updateFileExtendedProps=function(){var e=s(r().mark((function e(t,n){var o,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Promise((function(e,o){c.send("Files","UpdateExtendedProps",{Type:t.storageType(),Path:t.path(),Name:t.fileName(),ExtendedProps:n},(function(t){!0===t.Result&&e(!0),e(!1)}),i)})),e.next=3,o;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E.decryptAsSingleChunk=function(){var e=s(r().mark((function e(t,n,o){var i,s,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getKeyFromString(n);case 2:return i=e.sent,e.next=5,new Response(t).arrayBuffer();case 5:return s=e.sent,e.next=8,crypto.subtle.decrypt({name:"AES-CBC",iv:new Uint8Array(m.HexString2Array(o))},i,s);case 8:return a=e.sent,e.abrupt("return",new Uint8Array(a));case 10:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),e.exports=E},aM3T:function(e,t,n){"use strict";var o=n("xG9w"),r={OpenPgpErrors:{UnknownError:0,UnknownNotice:1,InvalidArgumentError:2,GenerateKeyError:10,ImportKeyError:20,ImportNoKeysFoundError:21,PrivateKeyNotFoundError:30,PublicKeyNotFoundError:31,KeyIsNotDecodedError:32,SignError:40,VerifyError:41,EncryptError:42,DecryptError:43,SignAndEncryptError:44,VerifyAndDecryptError:45,PasswordDecryptError:46,CanNotReadMessage:50,CanNotReadKey:51,DeleteError:60,PublicKeyNotFoundNotice:70,PrivateKeyNotFoundNotice:71,VerifyErrorNotice:72,NoSignDataNotice:73},PgpAction:{Import:"import",Generate:"generate",Encrypt:"encrypt",Sign:"sign",EncryptSign:"encrypt-sign",Verify:"ferify",DecryptVerify:"decrypt-ferify"},EncryptionBasedOn:{Password:"password",Key:"key"}};void 0===window.Enums&&(window.Enums={}),o.extendOwn(window.Enums,r)},cGGv:function(e,t,n){"use strict";var o=n("xG9w"),r=n("EVdn"),i=n("0h2I"),s=n("wd/R"),a=n("IAk5"),l=n("QFUI"),c=n("RN+F"),u=n("AFLV"),p=n("ZP6a"),h=n("Yjhd"),v=n("ZCBP"),d=["image/jpeg","image/jpg","image/png","image/gif","text/html","text/plain","text/css","text/rfc822-headers","message/delivery-status","application/x-httpd-php","application/javascript"],f=[];function m(){this.id=i.observable(""),this.index=i.observable(0),this.fileName=i.observable(""),this.tempName=i.observable(""),this.extension=i.observable(""),this.fileName.subscribe((function(e){this.id(e),this.extension(h.getFileExtension(e))}),this),this.displayName=i.computed((function(){return this.fileName()}),this),this.size=i.observable(0),this.friendlySize=i.computed((function(){return this.size()>0?c.getFriendlySize(this.size()):""}),this),this.hash=i.observable(""),this.thumbUrlInQueue=i.observable(""),this.thumbUrlInQueueSubscribtion=this.thumbUrlInQueue.subscribe((function(){this.getInThumbQueue()}),this),this.thumbnailSrc=i.observable(""),this.thumbnailLoaded=i.observable(!1),this.mimeType=i.observable(""),this.uploadUid=i.observable(""),this.uploaded=i.observable(!1),this.uploadError=i.observable(!1),this.downloading=i.observable(!1),this.isViewMimeType=i.computed((function(){return-1!==r.inArray(this.mimeType(),d)}),this),this.bHasHtmlEmbed=!1,this.otherTemplates=i.observableArray([]),this.visibleCancelButton=i.observable(!0),this.cancelButtonTooltip=c.i18n("COREWEBCLIENT/ACTION_CANCEL"),this.statusText=i.observable(""),this.statusTooltip=i.computed((function(){return this.uploadError()?this.statusText():""}),this),this.progressPercent=i.observable(0),this.visibleProgress=i.observable(!1),this.uploadStarted=i.observable(!1),this.uploadStarted.subscribe((function(){this.uploadStarted()?(this.uploaded(!1),this.visibleProgress(!0),this.progressPercent(20)):(this.progressPercent(100),this.visibleProgress(!1),this.uploaded(!0))}),this),this.downloading.subscribe((function(){this.downloading()?this.visibleProgress(!0):(this.visibleProgress(!1),this.progressPercent(0))}),this),this.allowDrag=i.observable(!1),this.allowUpload=i.observable(!1),this.allowPublicLink=i.observable(!1),this.bIsSecure=i.observable(!1),this.sHeaderText="",this.oActionsData={view:{Text:c.i18n("COREWEBCLIENT/ACTION_VIEW_FILE"),HandlerName:"viewFile"},download:{Text:c.i18n("COREWEBCLIENT/ACTION_DOWNLOAD_FILE"),HandlerName:"downloadFile",Tooltip:i.computed((function(){var e=c.i18n("COREWEBCLIENT/INFO_CLICK_TO_DOWNLOAD_FILE",{FILENAME:this.fileName(),SIZE:this.friendlySize()});return""===this.friendlySize()&&(e=e.replace(" ()","")),e}),this)}},this.allowActions=i.observable(!0),this.iconAction=i.observable("download"),this.cssClasses=i.computed((function(){return this.getCommonClasses().join(" ")}),this),this.actions=i.observableArray([]),this.firstAction=i.computed((function(){return this.actions().length>1?this.actions()[0]:""}),this),this.secondAction=i.computed((function(){return 1===this.actions().length?this.actions()[0]:this.actions().length>1?this.actions()[1]:""}),this),this.subFiles=i.observableArray([]),this.subFilesExpanded=i.observable(!1),this.sUploadSubFolder="",this.bIsHidden=!1}r("html").hasClass("pdf")&&(d.push("application/pdf"),d.push("application/x-pdf")),m.prototype.addAction=function(e,t,n){t?this.actions.unshift(e):this.actions.push(e),this.actions(o.compact(this.actions())),n&&(this.oActionsData[e]=n)},m.prototype.removeAction=function(e){this.actions(o.without(this.actions(),e))},m.prototype.getMainAction=function(){return this.actions()[0]},m.prototype.hasAction=function(e){return-1!==o.indexOf(this.actions(),e)},m.prototype.getActionText=function(e){return this.hasAction(e)&&this.oActionsData[e]&&("string"==typeof this.oActionsData[e].Text||o.isFunction(this.oActionsData[e].Text))?o.isFunction(this.oActionsData[e].Text)?this.oActionsData[e].Text():this.oActionsData[e].Text:""},m.prototype.getActionUrl=function(e){return this.hasAction(e)&&this.oActionsData[e]&&this.oActionsData[e].Url||""},m.prototype.executeAction=function(e){var t=this.hasAction(e)&&this.oActionsData[e];t&&(o.isFunction(t.Handler)?t.Handler():"string"==typeof t.HandlerName&&o.isFunction(this[t.HandlerName])&&this[t.HandlerName]())},m.prototype.getTooltip=function(e){var t=this.hasAction(e)&&this.oActionsData[e]?this.oActionsData[e].Tooltip:"";return"string"==typeof t?t:o.isFunction(t)?t():""},m.prototype.getCommonClasses=function(){var e=[];return(this.allowUpload()&&!this.uploaded()||this.downloading())&&e.push("incomplete"),this.uploadError()?e.push("fail"):e.push("success"),e},m.prototype.parse=function(e){this.fileName(u.pString(e.FileName)),this.tempName(u.pString(e.TempName)),""===this.tempName()&&this.tempName(this.fileName()),this.mimeType(u.pString(e.MimeType)),this.size(e.EstimatedSize?u.pInt(e.EstimatedSize):u.pInt(e.SizeInBytes)),this.hash(u.pString(e.Hash)),this.parseActions(e),this.uploadUid(this.hash()),this.uploaded(!0),r.isFunction(this.additionalParse)&&this.additionalParse(e)},m.prototype.parseActions=function(e){this.thumbUrlInQueue(""!==u.pString(e.ThumbnailUrl)?u.pString(e.ThumbnailUrl)+"/"+Math.random():""),this.commonParseActions(e),this.commonExcludeActions()},m.prototype.commonExcludeActions=function(){this.isViewSupported()||this.actions(o.without(this.actions(),"view"))},m.prototype.commonParseActions=function(e){o.each(e.Actions,(function(e,t){this.oActionsData[t]||(this.oActionsData[t]={}),this.oActionsData[t].Url=u.pString(e.url),this.actions.push(t)}),this)},m.addViewExtensions=function(e){o.isArray(e)&&(f=o.union(f,e))},m.prototype.isViewSupported=function(){return-1!==r.inArray(this.mimeType(),d)||-1!==r.inArray(this.extension(),f)},m.prototype.getInThumbQueue=function(){""===this.thumbUrlInQueue()||this.linked&&(!this.linked||this.linked())||l.thumbQueue(this.thumbUrlInQueue(),this.thumbnailSrc)},m.prototype.downloadFile=function(e){var t=this.getActionUrl("download"),n={File:this,CancelDownload:!1};t.length>0&&"#"!==t&&(e||a.broadcastEvent("AbstractFileModel::FileDownload::before",n),n.CancelDownload||(o.isFunction(n.CustomDownloadHandler)?n.CustomDownloadHandler():(t+="/"+s().unix(),p.downloadByUrl(t,"eml"===this.extension()))))},m.prototype.viewFile=function(e,t){h.calmEvent(t),this.viewCommonFile()},m.prototype.viewCommonFile=function(e){var t=null,n=null;u.isNonEmptyString(e)||(e=p.getAppPath()+this.getActionUrl("view")),e.length>0&&"#"!==e&&(n={sUrl:e+="/"+s().unix(),index:this.index(),hash:this.hash(),continueView:!0},a.broadcastEvent("AbstractFileModel::FileView::before",n),n.continueView&&(t=v.open(n.sUrl,n.sUrl,!1))&&t.focus())},m.prototype.eventDragStart=function(e,t){var n=t.originalEvent||t;return e&&n&&n.dataTransfer&&n.dataTransfer.setData&&n.dataTransfer.setData("DownloadURL",this.generateTransferDownloadUrl()),!0},m.prototype.generateTransferDownloadUrl=function(){var e=this.getActionUrl("download");return"http"!==e.substr(0,4)&&(e=p.getAppPath()+e),this.mimeType()+":"+this.fileName()+":"+e},m.prototype.onUploadSelect=function(e,t,n){n||(this.fileName(u.pString(t.FileName)),this.mimeType(u.pString(t.Type)),this.size(u.pInt(t.Size))),this.uploadUid(e),this.uploaded(!1),this.statusText(""),this.progressPercent(0),this.visibleProgress(!1),this.sUploadSubFolder=u.pString(t.Folder),this.bIsHidden=""!==this.sUploadSubFolder},m.prototype.onUploadStart=function(){this.visibleProgress(!0)},m.prototype.onUploadProgress=function(e,t){t>0&&(this.progressPercent(Math.ceil(e/t*100)),this.visibleProgress(!0))},m.prototype.onDownloadProgress=function(e,t){t>0&&(this.progressPercent(Math.ceil(e/t*100)),this.visibleProgress(this.progressPercent()<100))},m.prototype.onUploadComplete=function(e,t,n){var o,r=!(t&&n&&!n.ErrorCode&&n.Result&&!n.Result.Error),i=n&&n.ErrorCode&&n.ErrorCode===Enums.Errors.CanNotUploadFileLimit?c.i18n("COREWEBCLIENT/ERROR_UPLOAD_SIZE"):c.i18n("COREWEBCLIENT/ERROR_UPLOAD_UNKNOWN");this.progressPercent(0),this.visibleProgress(!1),this.uploaded(!0),this.uploadError(r),this.statusText(r?i:c.i18n("COREWEBCLIENT/REPORT_UPLOAD_COMPLETE")),r||(this.fillDataAfterUploadComplete(n,e),setTimeout((o=this,function(){o.statusText("")}),3e3))},m.prototype.fillDataAfterUploadComplete=function(e,t){},m.prototype.onImageLoad=function(e,t){""===this.thumbUrlInQueue()||this.thumbnailLoaded()||(this.thumbnailLoaded(!0),l.thumbQueue(this.thumbUrlInQueue()))},m.prototype.stopDownloading=function(){this.downloading(!1)},m.prototype.startDownloading=function(){this.downloading(!0)},e.exports=m},mtgd:function(e,t,n){"use strict";(function(t){var o=n("xG9w"),r=n("0h2I"),i=n("czxF"),s=n("RN+F"),a=n("SQrT");function l(){i.call(this),this.keyPassword=r.observable(""),this.keyPasswordConfirm=r.observable(""),this.fOnPasswordEnterCallback=null,this.fOnWrongPasswordCallback=null,this.fOnCancellCallback=null}o.extendOwn(l.prototype,i.prototype),l.prototype.PopupTemplate="CoreParanoidEncryptionWebclientPlugin_EncryptKeyPasswordPopup",l.prototype.onOpen=function(e,t){this.fOnPasswordEnterCallback=e,this.fOnCancellCallback=t},l.prototype.encryptKey=function(){""===t.trim(this.keyPassword())?this.showError(s.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_PASSWORD_CANT_BE_BLANK")):t.trim(this.keyPassword())!==t.trim(this.keyPasswordConfirm())?this.showError(s.i18n("COREWEBCLIENT/ERROR_PASSWORDS_DO_NOT_MATCH")):(o.isFunction(this.fOnPasswordEnterCallback)&&this.fOnPasswordEnterCallback(t.trim(this.keyPassword())),this.closePopup())},l.prototype.cancelPopup=function(){o.isFunction(this.fOnCancellCallback)&&this.fOnCancellCallback(),this.closePopup()},l.prototype.onShow=function(){this.keyPassword(""),this.keyPasswordConfirm("")},l.prototype.showError=function(e){a.showError(e)},e.exports=new l}).call(this,n("EVdn"))},oDKb:function(e,t,n){const o=n("AFLV"),r={updateExtendedProps:function(e={}){this.oExtendedProps||(this.oExtendedProps={});for(const t in e)this.oExtendedProps[t]=e[t];this.parseExtendedProps()},parseExtendedProps:function(){const e=this.oExtendedProps.SharedWithMeAccess,t=o.pArray(this.oExtendedProps.Shares);this.sharedWithMeAccessReshare(e===Enums.SharedFileAccess.Reshare),this.sharedWithMeAccessWrite(this.sharedWithMeAccessReshare()||e===Enums.SharedFileAccess.Write),this.sharedWithMe(this.sharedWithMeAccessWrite()||e===Enums.SharedFileAccess.Read),this.sharedWithOthers(t.length>0)}};e.exports=r},sWn8:function(e,t,n){"use strict";n("aM3T"),e.exports=function(e){if(!window.crypto||!window.crypto.getRandomValues)return null;var t=n("IAk5"),o=n("+x5O"),r=n("76Kh"),i=(n("Pg7U"),null);return o.init(e),t.isMobile()&&t.isPublic()&&n("lVyM"),t.isPublic()?{getScreens:function(){var e={};return e[o.HashModuleName]=function(){return new(n("vnSc"))},o.EnableSelfDestructingMessages&&(e[o.SelfDestructMessageHash]=function(){return new(n("U1dG"))}),e}}:t.isUserNormalOrTenant()?{start:function(e){var s=n("3vk+");e.run("FilesWebclient","registerToolbarButtons",[(i||(i=n("LToI")),i)]),o.EnableSelfDestructingMessages&&e.run("MailWebclient","registerComposeToolbarController",[n("scms")]),t.subscribeEvent("FilesWebclient::ConstructView::after",(function(e){var t=e.View.onShareIconClick;e.View.onShareIconClick=function(n){n&&(e.View.storageType()===Enums.FileStorageType.Personal||e.View.storageType()===Enums.FileStorageType.Corporate||e.View.storageType()===Enums.FileStorageType.Encrypted&&n.IS_FILE)?r.showPopup(s,[n]):t(n)}}))}}:null}},scms:function(e,t,n){"use strict";var o=n("0h2I"),r=n("76Kh"),i=n("vpzY");function s(){this.bSendButton=!0,this.pgpSecured=o.observable(!1)}s.prototype.ViewTemplate="OpenPgpFilesWebclient_ComposeButtonsView",s.prototype.assignComposeExtInterface=function(e){this.oCompose=e,this.oCompose.koTextChange.subscribe((function(){var t=e.getPlainText();e.isHtml()||this.pgpSecured(-1!==t.indexOf("-----BEGIN PGP MESSAGE-----"))}),this)},s.prototype.doAfterApplyingMainTabParameters=function(e){e.OpenPgp&&this.pgpSecured(e.OpenPgp.Secured)},s.prototype.doAfterPreparingMainTabParameters=function(e){e.OpenPgp={Secured:this.pgpSecured()}},s.prototype.doAfterPopulatingMessage=function(e){e.bPlain?this.pgpSecured(-1!==e.sRawText.indexOf("-----BEGIN PGP MESSAGE-----")):this.pgpSecured(!1)},s.prototype.send=function(){if(this.oCompose){var e=this.oCompose.getRecipientsInfo(),t=e.length>0?e[0]:null;r.showPopup(i,[this.oCompose.getSubject(),this.oCompose.getPlainText(),t,this.oCompose.getFromEmail(),this.oCompose.getSelectedSender()])}},s.prototype.isEnableSending=function(){return this.oCompose&&!this.pgpSecured()},e.exports=new s},vnSc:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,s=Object.create(r.prototype),a=new A(o||[]);return i(s,"_invoke",{value:w(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=p;var v={};function d(){}function f(){}function m(){}var y={};u(y,a,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(S([])));b&&b!==t&&n.call(b,a)&&(y=b);var g=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var r;i(this,"_invoke",{value:function(i,s){function a(){return new t((function(r,a){!function r(i,s,a,l){var c=h(e[i],e,s);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(c.arg)}(i,s,r,a)}))}return r=r?r.then(a,a):a()}})}function w(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return x()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=h(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=h(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},j(P.prototype),u(P.prototype,l,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new P(p(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},e}function i(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))}}var a=n("xG9w"),l=n("0h2I"),c=n("wd/R"),u=n("8OJ3").default,p=n("OgeD"),h=n("RN+F"),v=n("ZP6a"),d=n("Yjhd"),f=n("SQrT"),m=n("+x5O"),y=n("o0Bx"),E=n("xcwT"),b=n("Xu4A"),g=p.run("OpenPgpWebclient","getOpenPgpEncryptor");function j(){if(E.call(this,"OpenPgpFilesWebclient"),this.aSupportedVideoExt=["mp4","url"],this.aSupportedAudioExt=["mp3"],this.ExpireDate=m.PublicFileData.ExpireDate?c.unix(m.PublicFileData.ExpireDate).format("YYYY-MM-DD HH:mm:ss"):"",this.ExpireDateMessage=m.PublicFileData.ExpireDate?h.i18n("OPENPGPFILESWEBCLIENT/HINT_MESSAGE_LIFETIME",{DATETIME:this.ExpireDate}):null,this.password=l.observable(""),this.isDecryptionAvailable=l.observable(!1),this.isDownloadingAndDecrypting=l.observable(!1),this.browserTitle=l.observable(h.i18n("OPENPGPFILESWEBCLIENT/HEADING_BROWSER_TAB")),this.hash=m.PublicFileData.Hash?m.PublicFileData.Hash:"",this.fileName=m.PublicFileData.Name?m.PublicFileData.Name:"",this.fileSize=m.PublicFileData.Size?m.PublicFileData.Size:"",this.fileUrl=m.PublicFileData.Url?m.PublicFileData.Url:"",this.encryptionMode=m.PublicFileData.PgpEncryptionMode?m.PublicFileData.PgpEncryptionMode:"",this.recipientEmail=m.PublicFileData.PgpEncryptionRecipientEmail?m.PublicFileData.PgpEncryptionRecipientEmail:"",this.bSecuredLink=!!m.PublicFileData.IsSecuredLink,this.isUrlFile=!!m.PublicFileData.IsUrlFile&&m.PublicFileData.IsUrlFile,this.sParanoidKeyPublic=m.PublicFileData.ParanoidKeyPublic?m.PublicFileData.ParanoidKeyPublic:"",this.sInitializationVector=m.PublicFileData.InitializationVector?m.PublicFileData.InitializationVector:"",this.bShowPlayButton=l.observable(!1),this.bShowVideoPlayer=l.observable(!1),this.bShowAudioPlayer=l.observable(!1),this.koShowPassword=l.computed((function(){return(this.isDecryptionAvailable()||this.bSecuredLink)&&!this.bShowVideoPlayer()&&!this.bShowAudioPlayer()}),this),this.isMedia=l.observable(!1),this.bSecuredLink)this.passwordLabel=h.i18n("OPENPGPFILESWEBCLIENT/LABEL_ENTER_PASSWORD");else switch(this.encryptionMode){case Enums.EncryptionBasedOn.Key:this.passwordLabel=h.i18n("OPENPGPFILESWEBCLIENT/LABEL_ENTER_PASSPHRASE",{KEY:this.recipientEmail}),this.isDecryptionAvailable(!0);break;case Enums.EncryptionBasedOn.Password:this.passwordLabel=h.i18n("OPENPGPFILESWEBCLIENT/LABEL_ENTER_PASSWORD"),this.isDecryptionAvailable(!0);break;default:this.passwordLabel=""}}n("3kVj"),a.extendOwn(j.prototype,E.prototype),j.prototype.ViewTemplate="OpenPgpFilesWebclient_FileView",j.prototype.ViewConstructorName="CFileView",j.prototype.onShow=s(r().mark((function e(){var t,n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.isFileVideo(this.fileName),n=this.isFileAudio(this.fileName),this.isMedia(t||n||this.isUrlFile),this.bShowPlayButton(this.bSecuredLink&&this.isMedia()),this.bSecuredLink||(o=this.fileUrl,this.isUrlFile||(o=v.getAppPath()+o),this.isUrlFile?this.showVideoStreamPlayer(o):t?this.showVideoPlayer(o):n&&this.showAudioPlayer(o)),this.encryptionMode!==Enums.EncryptionBasedOn.Key){e.next=9;break}return e.next=8,g.oPromiseInitialised;case 8:this.isDecryptionAvailable(!g.findKeysByEmails([this.recipientEmail],!1).length<=0);case 9:case"end":return e.stop()}}),e,this)}))),j.prototype.downloadAndDecryptFile=s(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.encryptionMode!==Enums.EncryptionBasedOn.Password||""!==this.password()){e.next=4;break}f.showError(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_EMPTY_PASSWORD")),e.next=8;break;case 4:return this.isDownloadingAndDecrypting(!0),e.next=7,b.processFileDecryption(this.fileName,this.fileUrl,this.recipientEmail,this.password(),this.encryptionMode,this.sParanoidKeyPublic,this.sInitializationVector);case 7:this.isDownloadingAndDecrypting(!1);case 8:case"end":return e.stop()}}),e,this)}))),j.prototype.securedLinkDownload=function(){""===this.password()?f.showError(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_EMPTY_PASSWORD")):this.isUrlFile?window.location.href=this.fileUrl:window.location.href=this.fileUrl+"/download/secure/"+encodeURIComponent(this.password())},j.prototype.play=function(){var e=this;""===this.password()?f.showError(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_EMPTY_PASSWORD")):y.send("OpenPgpFilesWebclient","ValidatePublicLinkPassword",{Hash:this.hash,Password:this.password()},(function(t){if(!0===t.Result){var n=v.getAppPath()+e.fileUrl+"/download/secure/"+encodeURIComponent(e.password());e.isFileVideo(e.fileName)?e.showVideoPlayer(n):e.isFileAudio(e.fileName)?e.showAudioPlayer(n):e.isUrlFile&&e.showVideoStreamPlayer(e.fileUrl)}else!1===t.Result?f.showError(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_PASSWORD_INCORRECT")):f.showError(h.i18n("COREWEBCLIENT/ERROR_UNKNOWN"))}),this)},j.prototype.isFileVideo=function(e){var t=d.getFileExtension(e);return-1!==a.indexOf(this.aSupportedVideoExt,t.toLowerCase())},j.prototype.isFileAudio=function(e){var t=d.getFileExtension(e);return-1!==a.indexOf(this.aSupportedAudioExt,t.toLowerCase())},j.prototype.showVideoStreamPlayer=function(e){this.oPlayer=u("video-player"),this.oPlayer.src({type:"application/x-mpegURL",src:e}),this.bShowVideoPlayer(!0)},j.prototype.showVideoPlayer=function(e){var t=this,n="video/"+d.getFileExtension(this.fileName).toLowerCase();this.oPlayer=u("video-player"),p.isModuleAvailable("ActivityHistory")&&(this.oPlayer.on("loadeddata",(function(){y.send("ActivityHistory","CreateFromHash",{Hash:t.hash,EventName:"play"})})),this.oPlayer.on("ended",(function(){y.send("ActivityHistory","CreateFromHash",{Hash:t.hash,EventName:"play-finish"})}))),this.oPlayer.src({type:n,src:e}),this.bShowVideoPlayer(!0)},j.prototype.showAudioPlayer=function(e){var t=this,n="audio/"+d.getFileExtension(this.fileName).toLowerCase();this.oPlayer=u("audio-player"),p.isModuleAvailable("ActivityHistory")&&(this.oPlayer.on("loadeddata",(function(){y.send("ActivityHistory","CreateFromHash",{Hash:t.hash,EventName:"play"})})),this.oPlayer.on("ended",(function(){y.send("ActivityHistory","CreateFromHash",{Hash:t.hash,EventName:"play-finish"})}))),this.oPlayer.src({type:n,src:e}),this.bShowAudioPlayer(!0)},e.exports=j},vpzY:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,s=Object.create(r.prototype),a=new A(o||[]);return i(s,"_invoke",{value:w(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=p;var v={};function d(){}function f(){}function m(){}var y={};u(y,a,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(S([])));b&&b!==t&&n.call(b,a)&&(y=b);var g=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var r;i(this,"_invoke",{value:function(i,s){function a(){return new t((function(r,a){!function r(i,s,a,l){var c=h(e[i],e,s);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(c.arg)}(i,s,r,a)}))}return r=r?r.then(a,a):a()}})}function w(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return x()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=h(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=h(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},j(P.prototype),u(P.prototype,l,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new P(p(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},e}function i(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))}}var a=n("xG9w"),l=n("0h2I"),c=n("wd/R"),u=n("IAk5"),p=n("OgeD"),h=n("RN+F"),v=n("ZP6a"),d=n("SQrT"),f=n("czxF"),m=n("1kFK"),y=n("o0Bx"),E=n("+x5O"),b=n("hPb3"),g=p.run("OpenPgpWebclient","getOpenPgpEncryptor");function j(){var e=this;f.call(this),this.sSubject=null,this.sPlainText=null,this.sRecipientEmail=null,this.sFromEmail=null,this.sSelectedSenderId=null,this.recipientAutocompleteItem=l.observable(null),this.recipientAutocomplete=l.observable(""),this.keyBasedEncryptionDisabled=l.observable(!0),this.passwordBasedEncryptionDisabled=l.observable(!0),this.encryptionAvailable=l.observable(!1),this.isSuccessfullyEncryptedAndUploaded=l.observable(!1),this.encryptionBasedMode=l.observable(""),this.recipientHintText=l.observable(h.i18n("OPENPGPFILESWEBCLIENT/HINT_SELECT_RECIPIENT")),this.encryptionModeHintText=l.observable(""),this.isEncrypting=l.observable(!1),this.encryptedFileLink=l.observable(""),this.encryptedFilePassword=l.observable(""),this.sendButtonText=l.observable(""),this.hintUnderEncryptionInfo=l.observable(""),this.sign=l.observable(!1),this.isSigningAvailable=l.observable(!1),this.isPrivateKeyAvailable=l.observable(!1),this.passphrase=l.observable(""),this.password=l.observable(""),this.selectedLifetimeHrs=l.observable(null),this.lifetime=l.observableArray([{label:"24 "+h.i18n("OPENPGPFILESWEBCLIENT/OPTION_LIFE_TIME_HOURS"),value:24},{label:"72 "+h.i18n("OPENPGPFILESWEBCLIENT/OPTION_LIFE_TIME_HOURS"),value:72},{label:"7 "+h.i18n("OPENPGPFILESWEBCLIENT/OPTION_LIFE_TIME_DAYS"),value:168}]),this.composeMessageWithData=p.run("MailWebclient","getComposeMessageWithData"),this.cancelButtonText=l.computed((function(){return e.isSuccessfullyEncryptedAndUploaded()?h.i18n("COREWEBCLIENT/ACTION_CLOSE"):h.i18n("COREWEBCLIENT/ACTION_CANCEL")})),this.recipientAutocomplete.subscribe((function(t){""===t&&e.recipientAutocompleteItem(null)}),this),this.recipientAutocompleteItem.subscribe((function(t){t?(e.passwordBasedEncryptionDisabled(!1),e.encryptionBasedMode(Enums.EncryptionBasedOn.Password),e.encryptionAvailable(!0),t.hasKey?(e.keyBasedEncryptionDisabled(!1),e.recipientHintText(h.i18n("OPENPGPFILESWEBCLIENT/HINT_SELF_DESTRUCT_LINK_KEY_RECIPIENT"))):(e.keyBasedEncryptionDisabled(!0),e.recipientHintText(h.i18n("OPENPGPFILESWEBCLIENT/HINT_NO_KEY_RECIPIENT")))):(e.keyBasedEncryptionDisabled(!0),e.passwordBasedEncryptionDisabled(!0),e.encryptionAvailable(!1),e.encryptionBasedMode(""),e.recipientHintText(h.i18n("OPENPGPFILESWEBCLIENT/HINT_SELECT_RECIPIENT")))}),this),this.encryptionBasedMode.subscribe((function(t){switch(t){case Enums.EncryptionBasedOn.Password:e.encryptionModeHintText(h.i18n("OPENPGPFILESWEBCLIENT/HINT_PASSWORD_BASED_ENCRYPTION")),e.isSigningAvailable(!1),e.sign(!1);break;case Enums.EncryptionBasedOn.Key:e.encryptionModeHintText(h.i18n("OPENPGPFILESWEBCLIENT/HINT_KEY_BASED_ENCRYPTION")),e.isPrivateKeyAvailable()&&(e.isSigningAvailable(!0),e.sign(!0));break;default:e.encryptionModeHintText(""),e.isSigningAvailable(!1),e.sign(!0)}})),this.signEmailHintText=l.computed((function(){return this.sign()?h.i18n("OPENPGPFILESWEBCLIENT/HINT_SIGN_EMAIL"):h.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_EMAIL")}),this),this.signFileHintText=l.computed((function(){return this.sign()?h.i18n("OPENPGPFILESWEBCLIENT/HINT_SIGN_FILE"):this.encryptionBasedMode()!==Enums.EncryptionBasedOn.Key?h.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_FILE_REQUIRES_KEYBASED_ENCRYPTION"):this.isSigningAvailable()?h.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_FILE"):h.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_FILE_REQUIRES_PRIVATE_KEY")}),this),this.isEncrypting.subscribe((function(t){t?(e.keyBasedEncryptionDisabled(!0),e.passwordBasedEncryptionDisabled(!0)):(e.keyBasedEncryptionDisabled(!1),e.passwordBasedEncryptionDisabled(!1))}))}a.extendOwn(j.prototype,f.prototype),j.prototype.PopupTemplate="OpenPgpFilesWebclient_SelfDestructingEncryptedMessagePopup",j.prototype.onOpen=function(){var e=s(r().mark((function e(t,n,o,i,s){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.sSubject=t,this.sPlainText=n,this.sRecipientEmail="",this.sFromEmail=i,this.sSelectedSenderId=s,o&&(this.sRecipientEmail=o.email,this.recipientAutocompleteItem(o),this.recipientAutocomplete(o.value)),e.next=8,g.oPromiseInitialised;case 8:g.findKeysByEmails([this.sFromEmail],!1).length>0?this.isPrivateKeyAvailable(!0):this.isPrivateKeyAvailable(!1);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,o,r,i){return e.apply(this,arguments)}}(),j.prototype.cancelPopup=function(){this.clearPopup(),this.closePopup()},j.prototype.clearPopup=function(){this.sPlainText=null,this.sRecipientEmail=null,this.sFromEmail=null,this.recipientAutocompleteItem(null),this.recipientAutocomplete(""),this.isSuccessfullyEncryptedAndUploaded(!1),this.encryptedFileLink(""),this.encryptedFilePassword(""),this.passphrase(""),this.sign(!1),this.password("")},j.prototype.encrypt=s(r().mark((function e(){var t,n,o,i,s,a,l,p,f,y,j,P,w,L,N,I,A,S,x,O,T,F;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isEncrypting(!0),t=g.findKeysByEmails([this.sFromEmail],!0).length>0?[this.recipientAutocompleteItem().email,this.sFromEmail]:[this.recipientAutocompleteItem().email],n=[this.recipientAutocompleteItem().uuid],e.next=5,g.getPublicKeysByContactsAndEmails(n,t);case 5:return o=e.sent,i=g.findKeysByEmails([this.sFromEmail],!1),s=this.encryptionBasedMode()===Enums.EncryptionBasedOn.Password,e.next=10,g.encryptData(this.sPlainText,o,i,s,this.sign());case 10:if((a=e.sent).passphrase&&this.passphrase(a.passphrase),!a||!a.result||a.hasErrors()){e.next=43;break}return l=a.result,p=l.data,f=l.password,e.next=16,this.createSelfDestrucPublicLink(this.sSubject,p,this.recipientAutocompleteItem().email,this.encryptionBasedMode(),this.selectedLifetimeHrs());case 16:if(!(y=e.sent).result||!y.link){e.next=40;break}if(j=v.getAppPath()+y.link+"#"+E.SelfDestructMessageHash,P=h.i18n("OPENPGPFILESWEBCLIENT/SELF_DESTRUCT_LINK_MESSAGE_SUBJECT"),w="",L=c.tz.guess(),N=b.timezone(),I=c.tz(new Date,L||N).format("MMM D, YYYY HH:mm [GMT] ZZ"),!this.recipientAutocompleteItem().hasKey){e.next=37;break}return A=f?"OPENPGPFILESWEBCLIENT/SELF_DESTRUCT_LINK_MESSAGE_BODY_WITH_PASSWORD":"OPENPGPFILESWEBCLIENT/SELF_DESTRUCT_LINK_MESSAGE_BODY",S={URL:j,BR:"\r\n",EMAIL:u.currentAccountEmail?u.currentAccountEmail():"",HOURS:this.selectedLifetimeHrs(),CREATING_TIME_GMT:I},f&&(S.PASSWORD=f),w=h.i18n(A,S),x=this.recipientAutocompleteItem().email,O=this.recipientAutocompleteItem().uuid,e.next=33,g.encryptMessage(w,x,this.sign(),this.passphrase(),this.sFromEmail,O);case 33:(T=e.sent)&&T.result&&!T.hasErrors()?(F=T.result,this.composeMessageWithData({to:this.recipientAutocompleteItem().value,subject:P,body:F,isHtml:!1,selectedSenderId:this.sSelectedSenderId}),this.cancelPopup()):m.showPgpErrorByCode(T,Enums.PgpAction.Encrypt),e.next=38;break;case 37:f?(w=h.i18n("OPENPGPFILESWEBCLIENT/SELF_DESTRUCT_LINK_MESSAGE_BODY_NOT_ENCRYPTED",{URL:j,EMAIL:u.currentAccountEmail?u.currentAccountEmail():"",BR:"<br>",HOURS:this.selectedLifetimeHrs(),CREATING_TIME_GMT:I}),this.password(f),this.composeMessageWithData({to:this.recipientAutocompleteItem().value,subject:P,body:w,isHtml:!0,selectedSenderId:this.sSelectedSenderId})):d.showError(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_CREATE_PUBLIC_LINK"));case 38:e.next=41;break;case 40:d.showError(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_CREATE_PUBLIC_LINK"));case 41:e.next=44;break;case 43:a&&a.userCanceled||m.showPgpErrorByCode(a,Enums.PgpAction.Encrypt);case 44:this.isEncrypting(!1);case 45:case"end":return e.stop()}}),e,this)}))),j.prototype.autocompleteCallback=function(e,t){var n={storage:"all",addContactGroups:!1,addUserGroups:!1,exceptEmail:u.getUserPublicId()},o=p.run("ContactsWebclient","getSuggestionsAutocompleteCallback",[n]);a.isFunction(o)&&(this.recipientAutocompleteItem(null),o(e,t))},j.prototype.createSelfDestrucPublicLink=function(){var e=s(r().mark((function e(t,n,o,i,s){var a,l,c,u=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",l={result:!1},c=new Promise((function(e,r){var a={Subject:t,Data:n,RecipientEmail:o,PgpEncryptionMode:i,LifetimeHrs:s};y.send("OpenPgpFilesWebclient","CreateSelfDestrucPublicLink",a,(function(t,n){t.Result&&t.Result.link&&e(t.Result.link),r(new Error(h.i18n("OPENPGPFILESWEBCLIENT/ERROR_PUBLIC_LINK_CREATION")))}),u)})),e.prev=3,e.next=6,c;case 6:a=e.sent,l.result=!0,l.link=a,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),e.t0&&e.t0.message&&d.showError(e.t0.message);case 14:return e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n,o,r,i){return e.apply(this,arguments)}}(),e.exports=new j},wjWM:function(e,t,n){"use strict";var o=n("xG9w"),r={Array2HexString:function(e){var t="";return o.each(e,(function(e){var n=e.toString(16);t+=(1===n.length?"0":"")+n})),t},HexString2Array:function(e){var t=[];if(0===e.length||e.length%2!=0)return t;for(var n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t}};e.exports=r},ymJf:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,s=Object.create(r.prototype),a=new A(o||[]);return i(s,"_invoke",{value:w(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=p;var v={};function d(){}function f(){}function m(){}var y={};u(y,a,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(S([])));b&&b!==t&&n.call(b,a)&&(y=b);var g=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var r;i(this,"_invoke",{value:function(i,s){function a(){return new t((function(r,a){!function r(i,s,a,l){var c=h(e[i],e,s);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(c.arg)}(i,s,r,a)}))}return r=r?r.then(a,a):a()}})}function w(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return x()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=h(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=h(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},j(P.prototype),u(P.prototype,l,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new P(p(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},e}function i(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))}}var a=n("xG9w"),l=n("0h2I"),c=n("IAk5"),u=n("OgeD"),p=n("RN+F"),h=n("ZP6a"),v=n("czxF"),d=n("1kFK"),f=n("Xu4A"),m=n("+x5O"),y=u.run("OpenPgpWebclient","getOpenPgpEncryptor");function E(){var e=this;v.call(this),this.oFile=null,this.oFilesView=null,this.recipientAutocompleteItem=l.observable(null),this.recipientAutocomplete=l.observable(""),this.keyBasedEncryptionDisabled=l.observable(!0),this.isSuccessfullyEncryptedAndUploaded=l.observable(!1),this.encryptionBasedMode=l.observable(Enums.EncryptionBasedOn.Password),this.recipientHintText=l.observable(p.i18n("OPENPGPFILESWEBCLIENT/HINT_ONLY_PASSWORD_BASED")),this.encryptionModeHintText=l.observable(""),this.isEncrypting=l.observable(!1),this.encryptedFileLink=l.observable(""),this.encryptedFilePassword=l.observable(""),this.sendButtonText=l.observable(""),this.hintUnderEncryptionInfo=l.observable(""),this.sign=l.observable(!1),this.isSigningAvailable=l.observable(!1),this.isPrivateKeyAvailable=l.observable(!1),this.passphrase=l.observable(""),this.composeMessageWithData=u.run("MailWebclient","getComposeMessageWithData"),this.sUserEmail="",this.cancelButtonText=l.computed((function(){return e.isSuccessfullyEncryptedAndUploaded()?p.i18n("COREWEBCLIENT/ACTION_CLOSE"):p.i18n("COREWEBCLIENT/ACTION_CANCEL")})),this.recipientAutocomplete.subscribe((function(t){""===t&&e.recipientAutocompleteItem(null)}),this),this.recipientAutocompleteItem.subscribe((function(t){t?(e.recipientAutocomplete(t.value),e.encryptionBasedMode(Enums.EncryptionBasedOn.Password),t.hasKey?(e.keyBasedEncryptionDisabled(!1),e.recipientHintText(p.i18n("OPENPGPFILESWEBCLIENT/HINT_KEY_RECIPIENT"))):(e.keyBasedEncryptionDisabled(!0),e.recipientHintText(p.i18n("OPENPGPFILESWEBCLIENT/HINT_NO_KEY_RECIPIENT")))):(e.keyBasedEncryptionDisabled(!0),e.encryptionBasedMode(Enums.EncryptionBasedOn.Password),e.recipientHintText(p.i18n("OPENPGPFILESWEBCLIENT/HINT_ONLY_PASSWORD_BASED")))}),this),this.encryptionBasedMode.subscribe((function(t){switch(t){case Enums.EncryptionBasedOn.Password:e.encryptionModeHintText(p.i18n("OPENPGPFILESWEBCLIENT/HINT_PASSWORD_BASED_ENCRYPTION")),e.isSigningAvailable(!1),e.sign(!1);break;case Enums.EncryptionBasedOn.Key:e.encryptionModeHintText(p.i18n("OPENPGPFILESWEBCLIENT/HINT_KEY_BASED_ENCRYPTION")),e.isPrivateKeyAvailable()&&(e.isSigningAvailable(!0),e.sign(!0));break;default:e.encryptionModeHintText(""),e.isSigningAvailable(!1),e.sign(!0)}})),this.signEmailHintText=l.computed((function(){return this.sign()?p.i18n("OPENPGPFILESWEBCLIENT/HINT_SIGN_EMAIL"):p.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_EMAIL")}),this),this.signFileHintText=l.computed((function(){return this.sign()?p.i18n("OPENPGPFILESWEBCLIENT/HINT_SIGN_FILE"):this.encryptionBasedMode()!==Enums.EncryptionBasedOn.Key?p.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_FILE_REQUIRES_KEYBASED_ENCRYPTION"):this.isSigningAvailable()?p.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_FILE"):p.i18n("OPENPGPFILESWEBCLIENT/HINT_NOT_SIGN_FILE_REQUIRES_PRIVATE_KEY")}),this),this.addButtons=l.observableArray([])}a.extendOwn(E.prototype,v.prototype),E.prototype.PopupTemplate="OpenPgpFilesWebclient_EncryptFilePopup",E.prototype.onOpen=function(){var e=s(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addButtons([]),this.oFile=t,this.oFilesView=n,e.next=5,y.oPromiseInitialised;case 5:this.sUserEmail=c.currentAccountEmail?c.currentAccountEmail():"",y.findKeysByEmails([this.sUserEmail],!1).length>0?this.isPrivateKeyAvailable(!0):this.isPrivateKeyAvailable(!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),E.prototype.cancelPopup=function(){this.clearPopup(),this.closePopup()},E.prototype.clearPopup=function(){this.oFile=null,this.oFilesView=null,this.recipientAutocompleteItem(null),this.recipientAutocomplete(""),this.isSuccessfullyEncryptedAndUploaded(!1),this.encryptedFileLink(""),this.encryptedFilePassword(""),this.passphrase(""),this.sign(!1),this.sUserEmail=""},E.prototype.encrypt=s(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isEncrypting(!0),e.next=3,f.processFileEncryption(this.oFile,this.oFilesView,this.recipientAutocompleteItem()?this.recipientAutocompleteItem().email:"",this.recipientAutocompleteItem()?this.recipientAutocompleteItem().uuid:"",this.encryptionBasedMode()===Enums.EncryptionBasedOn.Password,this.sign());case 3:t=e.sent,this.isEncrypting(!1),this.sign()&&t.result&&t.passphrase&&this.passphrase(t.passphrase),this.showResults(t);case 7:case"end":return e.stop()}}),e,this)}))),E.prototype.autocompleteCallback=function(e,t){if(this.oFile){var n={storage:"all",addContactGroups:!1,addUserGroups:!1,exceptEmail:this.oFile.sOwnerName},o=u.run("ContactsWebclient","getSuggestionsAutocompleteCallback",[n]);a.isFunction(o)&&(this.recipientAutocompleteItem(null),o(e,t))}else t([])},E.prototype.showResults=function(e){var t=e.result,n=e.password,o=e.link;if(t){if(this.recipientAutocompleteItem()&&this.recipientAutocompleteItem().hasKey)if(this.sendButtonText(p.i18n("OPENPGPFILESWEBCLIENT/ACTION_SEND_ENCRYPTED_EMAIL")),this.encryptionBasedMode()===Enums.EncryptionBasedOn.Password)this.hintUnderEncryptionInfo(p.i18n("OPENPGPFILESWEBCLIENT/HINT_STORE_PASSWORD"));else{var r=this.recipientAutocompleteItem().name?this.recipientAutocompleteItem().name:this.recipientAutocompleteItem().email;this.sign()?this.hintUnderEncryptionInfo(p.i18n("OPENPGPFILESWEBCLIENT/HINT_ENCRYPTED_SIGNED_EMAIL",{USER:r})):this.hintUnderEncryptionInfo(p.i18n("OPENPGPFILESWEBCLIENT/HINT_ENCRYPTED_EMAIL",{USER:r}))}else this.sendButtonText(p.i18n("OPENPGPFILESWEBCLIENT/ACTION_SEND_EMAIL")),this.hintUnderEncryptionInfo(p.i18n("OPENPGPFILESWEBCLIENT/HINT_EMAIL"));this.isSuccessfullyEncryptedAndUploaded(!0),this.encryptedFileLink(h.getAppPath()+o),this.encryptedFilePassword(n);var i={AddButtons:[],EncryptionBasedMode:this.encryptionBasedMode(),EncryptedFileLink:this.encryptedFileLink()};c.broadcastEvent("OpenPgpFilesWebclient::ShareEncryptedFile::after",i),this.addButtons(i.AddButtons)}this.isEncrypting(!1)},E.prototype.sendEmail=s(r().mark((function e(){var t,n,o,i,s,a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.i18n("OPENPGPFILESWEBCLIENT/MESSAGE_SUBJECT",{FILENAME:this.oFile.fileName()}),!this.recipientAutocompleteItem().hasKey){e.next=12;break}return n="",n=this.encryptionBasedMode()===Enums.EncryptionBasedOn.Password?p.i18n("OPENPGPFILESWEBCLIENT/ENCRYPTED_WITH_PASSWORD_MESSAGE_BODY",{URL:this.encryptedFileLink(),PASSWORD:this.encryptedFilePassword(),BR:"\r\n"}):p.i18n("OPENPGPFILESWEBCLIENT/ENCRYPTED_WITH_KEY_MESSAGE_BODY",{URL:this.encryptedFileLink(),USER:this.recipientAutocompleteItem().email,BR:"\r\n",SYSNAME:m.ProductName}),o=this.recipientAutocompleteItem().email,i=this.recipientAutocompleteItem().uuid,e.next=8,y.encryptMessage(n,o,this.sign(),this.passphrase(),this.sUserEmail,i);case 8:(s=e.sent)&&s.result?(a=s.result,this.composeMessageWithData({to:this.recipientAutocompleteItem().value,subject:t,body:a,isHtml:!1}),this.clearPopup(),this.closePopup()):d.showPgpErrorByCode(s,Enums.PgpAction.Encrypt),e.next=16;break;case 12:l=p.i18n("OPENPGPFILESWEBCLIENT/MESSAGE_BODY",{URL:this.encryptedFileLink()}),this.composeMessageWithData({to:this.recipientAutocompleteItem().value,subject:t,body:l,isHtml:!0}),this.clearPopup(),this.closePopup();case 16:case"end":return e.stop()}}),e,this)}))),e.exports=new E},zDR0:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,o){var r=t&&t.prototype instanceof d?t:d,s=Object.create(r.prototype),a=new A(o||[]);return i(s,"_invoke",{value:w(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=p;var v={};function d(){}function f(){}function m(){}var y={};u(y,a,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(S([])));b&&b!==t&&n.call(b,a)&&(y=b);var g=m.prototype=d.prototype=Object.create(y);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){var r;i(this,"_invoke",{value:function(i,s){function a(){return new t((function(r,a){!function r(i,s,a,l){var c=h(e[i],e,s);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==o(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(c.arg)}(i,s,r,a)}))}return r=r?r.then(a,a):a()}})}function w(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return x()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=h(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=h(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,v):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},j(P.prototype),u(P.prototype,l,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new P(p(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),v}},e}function i(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var s=e.apply(t,n);function a(e){i(s,o,r,a,l,"next",e)}function l(e){i(s,o,r,a,l,"throw",e)}a(void 0)}))}}var a=n("xG9w"),l=n("0h2I"),c=n("RN+F"),u=n("gcBV"),p=n("SQrT"),h=n("hPb3"),v=n("wjWM"),d=n("76Kh"),f=n("LU2F"),m=n("mtgd");function y(){this.sPrefix="user_"+(h.UserId||"0")+"_",this.key=l.observable(),this.keyName=l.observable(),this.storageName="cryptoKeyEncrypted"}y.prototype.key=null,y.prototype.sPrefix="",y.prototype.getKey=function(e,t,n,o){var r=this.loadKeyFromStorage(),i=new Promise(function(e,i){var s=a.bind((function(t){this.decryptKeyData(r,t).then(a.bind((function(t){this.generateKeyFromArray(t).then((function(t){e(t)})).catch((function(e){i(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")))}))}),this)).catch((function(e){i(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")))}))}),this);r?!this.key()||o?n?s(n):d.showPopup(f,[s,function(){a.isFunction(t)&&t()}]):e(this.key()):i(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/INFO_EMPTY_JSCRYPTO_KEY")))}.bind(this));this.loadKeyNameFromStorage(),i.then(a.bind((function(t){this.onKeyGenerateSuccess(t),a.isFunction(e)&&e(t)}),this)).catch(a.bind((function(e){a.isFunction(t)&&t(),this.onKeyGenerateError(e)}),this))},y.prototype.loadKeyNameFromStorage=function(){u.hasData(this.getStorageName())&&this.keyName(u.getData(this.getStorageName()).keyname)},y.prototype.loadKeyFromStorage=function(){var e="";return u.hasData(this.getStorageName())&&(e=u.getData(this.getStorageName()).keydata),e},y.prototype.generateKeyFromArray=function(e){return window.crypto.subtle.importKey("raw",e,{name:"AES-CBC"},!0,["encrypt","decrypt"])},y.prototype.onKeyGenerateSuccess=function(e){this.key(e)},y.prototype.onKeyGenerateError=function(e){e&&e.message&&p.showError(e.message)},y.prototype.generateKey=s(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,e.prev=1,e.next=4,window.crypto.subtle.generateKey({name:"AES-CBC",length:256},!0,["encrypt","decrypt"]);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p.showError(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_GENERATE_KEY"));case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),y.prototype.convertKeyToString=function(){var e=s(r().mark((function e(t){var n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",!t){e.next=12;break}return e.prev=2,e.next=5,window.crypto.subtle.exportKey("raw",t);case 5:o=e.sent,n=v.Array2HexString(new Uint8Array(o)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),p.showError(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_EXPORT_KEY"));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y.prototype.generateAndExportKey=function(){var e=s(r().mark((function e(t,n){var o,i,l=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.generateKey();case 2:return o=e.sent,e.next=5,this.convertKeyToString(o);case 5:i=e.sent,d.showPopup(m,[function(){var e=s(r().mark((function e(s){var h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.encryptKeyData(i,s);case 3:h=e.sent,u.setData(l.getStorageName(),{keyname:n,keydata:h}),l.loadKeyNameFromStorage(),l.onKeyGenerateSuccess(o),a.isFunction(t)&&t(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),p.showError(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY"));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),function(){}]);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),y.prototype.getKeyFromString=function(){var e=s(r().mark((function e(t){var n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,(o=v.HexString2Array(t)).length>0?o=new Uint8Array(o):p.showError(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")),e.prev=3,e.next=6,this.generateKeyFromArray(o);case 6:n=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),p.showError(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY"));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),y.prototype.importKeyFromString=function(e,t,n,o){try{d.showPopup(m,[a.bind((function(r){this.encryptKeyData(t,r).then(a.bind((function(t){u.setData(this.getStorageName(),{keyname:e,keydata:t}),this.getKey(n,o,r)}),this)).catch((function(){p.showError(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")),a.isFunction(o)&&o()}))}),this),function(){a.isFunction(o)&&o()}])}catch(e){p.showError(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_IMPORT_KEY")),a.isFunction(o)&&o()}},y.prototype.exportKey=function(){return window.crypto.subtle.exportKey("raw",this.key())},y.prototype.deleteKey=function(){try{this.key(null),this.keyName(null),u.removeData(this.getStorageName())}catch(e){return{error:e}}return{status:"ok"}},y.prototype.decryptKeyData=function(e,t){var n=new Uint8Array(16);return new Promise(function(o,r){e?this.deriveKeyFromPasswordPromise(t,a.bind((function(t){crypto.subtle.decrypt({name:"AES-CBC",iv:n},t,new Uint8Array(v.HexString2Array(e))).then(a.bind((function(e){o(new Uint8Array(e))}),this)).catch((function(){r(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")))}))}),this),(function(){r(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")))})):r(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")))}.bind(this))},y.prototype.encryptKeyData=function(e,t){var n=null,o=null,r=new Uint8Array(16);return new Promise(function(i,s){e?((n=v.HexString2Array(e)).length>0?n=new Uint8Array(n):s(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY"))),this.deriveKeyFromPasswordPromise(t,a.bind((function(e){crypto.subtle.encrypt({name:"AES-CBC",iv:r},e,n).then(a.bind((function(e){o=v.Array2HexString(new Uint8Array(e)),i(o)}),this)).catch((function(){s(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")))}))}),this),(function(){s(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")))}))):s(new Error(c.i18n("COREPARANOIDENCRYPTIONWEBCLIENTPLUGIN/ERROR_LOAD_KEY")))}.bind(this))},y.prototype.deriveKeyFromPasswordPromise=function(e,t,n){var o=function(e){if(window.TextEncoder)return new TextEncoder("utf-8").encode(e);for(var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n};window.crypto.subtle.importKey("raw",o(e),{name:"PBKDF2"},!1,["deriveKey"]).then(a.bind((function(e){window.crypto.subtle.deriveKey({name:"PBKDF2",salt:o("the salt is this string"),iterations:1e5,hash:"SHA-256"},e,{name:"AES-CBC",length:256},!0,["encrypt","decrypt"]).then((function(e){a.isFunction(t)&&t(e)})).catch((function(){a.isFunction(n)&&n()}))}),this)).catch((function(){a.isFunction(n)&&n()}))},y.prototype.getStorageName=function(){return this.sPrefix+this.storageName},e.exports=new y}}]);
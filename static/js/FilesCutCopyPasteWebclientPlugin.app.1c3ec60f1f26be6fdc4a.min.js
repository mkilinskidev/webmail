(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"767o":function(e,t,s){"use strict";var i=s("xG9w"),o=s("0h2I"),r=s("RN+F"),n=s("Yjhd"),h=s("76Kh"),c=s("1grR");function u(){this.oFilesView=null,this.copiedItems=o.observableArray([]),this.cuttedItems=o.observableArray([]),this.sharedParentFolderWhereItemsCutFrom=o.observable(null),this.savedItemsCount=o.computed((function(){return this.cuttedItems().length+this.copiedItems().length}),this),this.pasteTooltip=o.computed((function(){var e=i.union(this.cuttedItems(),this.copiedItems());return e.length>0?r.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/ACTION_PASTE")+": <br/>"+i.map(e,(function(e){return e.fileName()})).join(",<br/>"):r.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/ACTION_PASTE")}),this)}u.prototype.ViewTemplate="FilesCutCopyPasteWebclientPlugin_ButtonsView",u.prototype.useFilesViewData=function(e){this.oFilesView=e,this.cutCommand=n.createCommand(this,this.executeCut,e.isCutAllowed),this.copyCommand=n.createCommand(this,this.executeCopy,e.isCopyAllowed),this.isPasteAllowed=o.computed((function(){var t=!1,s=e.sharedParentFolder();return this.copiedItems().length>0&&(t=!e.isSharedStorage()&&!s||s&&s.bSharedWithMeAccessWrite),this.cuttedItems().length>0&&(t=e.storageType()===Enums.FileStorageType.Personal&&(!s||s&&s.bSharedWithMeAccessWrite)||e.isCorporateStorage()||e.isSharedStorage()&&s&&s.bSharedWithMeAccessWrite),t}),this),this.pasteCommand=n.createCommand(this,this.executePaste,this.isPasteAllowed)},u.prototype.executeCut=function(){this.copiedItems([]),this.cuttedItems(this.oFilesView.selector.listCheckedAndSelected()),this.sharedParentFolderWhereItemsCutFrom(this.oFilesView.sharedParentFolder()),h.showPopup(c,[r.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/INFO_ITEMS_CUTTED")])},u.prototype.executeCopy=function(){this.copiedItems(this.oFilesView.selector.listCheckedAndSelected()),this.cuttedItems([]),h.showPopup(c,[r.i18n("FILESCUTCOPYPASTEWEBCLIENTPLUGIN/INFO_ITEMS_COPIED")])},u.prototype.executePaste=function(){this.cuttedItems().length>0&&(this.oFilesView.moveItems("Move",this.oFilesView.getCurrentFolder(),this.cuttedItems()),this.cuttedItems([])),this.copiedItems().length>0&&(this.oFilesView.moveItems("Copy",this.oFilesView.getCurrentFolder(),this.copiedItems()),this.copiedItems([]))},e.exports=new u},QYQq:function(e,t,s){"use strict";e.exports=function(e){return s("IAk5").isUserNormalOrTenant()?{start:function(e){e.run("FilesWebclient","registerToolbarButtons",[s("767o")])}}:null}}}]);